<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>KisanMitra ‚Äî Smart Farming Platform</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;0,900;1,400&family=DM+Sans:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<style>
:root {
  --soil:#2D1B0E; --earth:#5C3D1E; --harvest:#E8B84B; --harvest-light:#F5D76E;
  --leaf:#2E6B2E; --leaf-mid:#3D7A3D; --leaf-light:#5BA55B;
  --cream:#FDF8EE; --cream-dark:#F5EDD6;
  --rust:#C0392B; --success:#1E8449; --warn:#D4780A;
  --blue:#1A6FA8; --text:#1A0F0A; --muted:#7A6655; --nav-h:64px;
  --card-shadow: 0 4px 24px rgba(45,27,14,0.09), 0 1px 4px rgba(45,27,14,0.06);
  --card-border: 1px solid rgba(45,27,14,0.08);
}
*{margin:0;padding:0;box-sizing:border-box}
html{scroll-behavior:smooth}
body{background:var(--cream);font-family:'DM Sans',sans-serif;color:var(--text);-webkit-font-smoothing:antialiased}

/* ‚ïê‚ïê NAVBAR ‚ïê‚ïê */
.navbar{
  position:fixed;top:0;left:0;right:0;z-index:200;height:var(--nav-h);
  background:rgba(45,27,14,0.97);backdrop-filter:blur(12px);
  display:flex;align-items:center;padding:0 28px;
  border-bottom:1px solid rgba(232,184,75,0.15);
}
.nav-brand{display:flex;align-items:center;gap:11px;text-decoration:none;margin-right:auto;cursor:pointer}
.nav-logo{
  width:38px;height:38px;background:linear-gradient(135deg,var(--harvest),#d4a00e);
  border-radius:10px;display:flex;align-items:center;justify-content:center;
  box-shadow:0 3px 12px rgba(228,184,75,0.35);flex-shrink:0;
}
.nav-brand-name{font-family:'Playfair Display',serif;font-size:21px;color:var(--harvest);font-weight:900;letter-spacing:-0.3px}
.nav-brand-sub{font-size:9.5px;color:rgba(255,255,255,0.38);letter-spacing:2px;text-transform:uppercase;margin-top:1px}
.nav-links{display:flex;align-items:center;gap:1px}
.nav-link{padding:7px 13px;border-radius:7px;border:none;background:transparent;color:rgba(255,255,255,0.62);font-size:13px;font-weight:500;cursor:pointer;transition:all .2s;font-family:'DM Sans',sans-serif;display:flex;align-items:center;gap:6px}
.nav-link:hover,.nav-link.active{background:rgba(228,184,75,0.12);color:var(--harvest)}
.nav-cta{margin-left:10px;padding:8px 16px;background:linear-gradient(135deg,var(--harvest),#d4a00e);color:var(--soil);border:none;border-radius:8px;font-size:13px;font-weight:700;cursor:pointer;transition:all .2s;font-family:'DM Sans',sans-serif;display:flex;align-items:center;gap:6px}
.nav-cta:hover{transform:translateY(-1px);box-shadow:0 4px 16px rgba(228,184,75,0.4)}
.nav-lang{display:flex;gap:4px;margin-left:12px}
.lang-btn{padding:5px 10px;border-radius:14px;border:1px solid rgba(255,255,255,0.18);background:transparent;color:rgba(255,255,255,0.55);cursor:pointer;font-size:12px;transition:all .2s;font-family:'DM Sans',sans-serif;font-weight:600}
.lang-btn.active{background:var(--harvest);color:var(--soil);border-color:var(--harvest)}

/* ‚ïê‚ïê HERO ‚ïê‚ïê */
.hero-band{background:linear-gradient(150deg,#1a3d1a 0%,#0f2a0f 40%,#1E3A2A 100%);padding:calc(var(--nav-h) + 56px) 40px 80px;position:relative;overflow:hidden}
.hero-band::after{content:'';position:absolute;bottom:-2px;left:0;right:0;height:60px;background:var(--cream);clip-path:ellipse(55% 100% at 50% 100%)}
.hero-band::before{content:'';position:absolute;inset:0;pointer-events:none;opacity:0.04;background:url("data:image/svg+xml,%3Csvg width='120' height='120' viewBox='0 0 120 120' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='%23E8B84B'%3E%3Cpath d='M60 10 Q80 35 60 55 Q40 35 60 10Z' opacity='0.6'/%3E%3Cpath d='M20 70 Q35 50 50 70 Q35 90 20 70Z' opacity='0.4'/%3E%3Cpath d='M80 80 Q95 60 110 80 Q95 100 80 80Z' opacity='0.4'/%3E%3C/g%3E%3C/svg%3E") repeat}
.hero-glow{position:absolute;top:20%;left:60%;width:400px;height:400px;background:radial-gradient(circle,rgba(232,184,75,0.08) 0%,transparent 70%);pointer-events:none}
.hero-inner{max-width:1180px;margin:0 auto;display:grid;grid-template-columns:1.1fr 0.9fr;gap:56px;align-items:center;position:relative;z-index:1}
.hero-badge{display:inline-flex;align-items:center;gap:6px;background:rgba(232,184,75,0.12);border:1px solid rgba(232,184,75,0.25);border-radius:20px;padding:5px 12px;margin-bottom:18px}
.hero-badge-dot{width:6px;height:6px;border-radius:50%;background:#2ECC71;animation:pulse 2s infinite}
@keyframes pulse{0%,100%{opacity:1}50%{opacity:0.4}}
.hero-badge span{font-size:11px;font-weight:600;color:rgba(255,255,255,0.7);letter-spacing:0.5px}
.hero-h1{font-family:'Playfair Display',serif;font-size:52px;color:#fff;line-height:1.12;margin-bottom:18px;letter-spacing:-0.5px}
.hero-h1 em{color:var(--harvest);font-style:italic}
.hero-p{color:rgba(255,255,255,0.75);font-size:16px;line-height:1.8;margin-bottom:30px;max-width:480px;font-weight:400}
.hero-btns{display:flex;gap:11px;flex-wrap:wrap;margin-bottom:32px}
.btn-primary{padding:13px 24px;background:linear-gradient(135deg,var(--harvest),#d4a00e);color:var(--soil);border:none;border-radius:10px;font-size:14px;font-weight:700;cursor:pointer;transition:all .25s;font-family:'DM Sans',sans-serif;display:flex;align-items:center;gap:7px}
.btn-primary:hover{transform:translateY(-2px);box-shadow:0 8px 24px rgba(228,184,75,0.45)}
.btn-outline{padding:13px 24px;background:rgba(255,255,255,0.07);color:#fff;border:1.5px solid rgba(255,255,255,0.25);border-radius:10px;font-size:14px;font-weight:600;cursor:pointer;transition:all .25s;font-family:'DM Sans',sans-serif;display:flex;align-items:center;gap:7px;backdrop-filter:blur(8px)}
.btn-outline:hover{border-color:rgba(255,255,255,0.6);background:rgba(255,255,255,0.12)}
.hero-stats{display:grid;grid-template-columns:repeat(3,1fr);gap:12px}
.stat-box{background:rgba(255,255,255,0.06);border:1px solid rgba(255,255,255,0.1);border-radius:14px;padding:16px 12px;text-align:center;transition:all .25s;cursor:default}
.stat-box:hover{background:rgba(255,255,255,0.1);transform:translateY(-2px)}
.stat-num{font-family:'Playfair Display',serif;font-size:28px;font-weight:900;color:var(--harvest);line-height:1}
.stat-lbl{font-size:10.5px;color:rgba(255,255,255,0.5);margin-top:4px;font-weight:500;letter-spacing:0.3px}
.hero-pills{display:flex;gap:7px;flex-wrap:wrap;margin-top:16px}
.hero-pill{background:rgba(255,255,255,0.07);border:1px solid rgba(255,255,255,0.14);border-radius:20px;padding:5px 11px;color:rgba(255,255,255,0.8);font-size:11.5px;font-weight:500;display:flex;align-items:center;gap:5px}
.feature-cards{display:flex;flex-direction:column;gap:11px}
.feat-card{background:rgba(255,255,255,0.07);backdrop-filter:blur(12px);border:1px solid rgba(255,255,255,0.12);border-radius:14px;padding:16px;display:flex;align-items:flex-start;gap:13px;transition:all .25s;cursor:default}
.feat-card:hover{background:rgba(255,255,255,0.11);transform:translateX(3px)}
.feat-icon-wrap{width:42px;height:42px;border-radius:11px;flex-shrink:0;display:flex;align-items:center;justify-content:center}
.feat-card h4{font-size:13.5px;font-weight:700;color:#fff;margin-bottom:3px}
.feat-card p{font-size:12px;color:rgba(255,255,255,0.58);line-height:1.5}

/* ‚ïê‚ïê SECTION ‚ïê‚ïê */
.sec-wrap{max-width:1180px;margin:0 auto;padding:70px 24px}
.sec-title{font-family:'Playfair Display',serif;font-size:34px;color:var(--soil);margin-bottom:6px;display:flex;align-items:center;gap:12px;letter-spacing:-0.3px}
.sec-sub{color:var(--muted);font-size:14px;margin-bottom:32px;font-weight:400}

/* ‚ïê‚ïê ANALYZER ‚ïê‚ïê */
#analyzer{scroll-margin-top:var(--nav-h)}
.input-card{background:#fff;border-radius:22px;padding:32px;box-shadow:var(--card-shadow);border:var(--card-border);margin-bottom:28px}
.card-title{font-family:'Playfair Display',serif;font-size:20px;color:var(--soil);margin-bottom:4px;display:flex;align-items:center;gap:10px}
.card-sub{color:var(--muted);font-size:13px;margin-bottom:22px;font-weight:400}
.form-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(185px,1fr));gap:16px;margin-bottom:22px}
.form-group label{display:flex;align-items:center;gap:5px;font-size:10.5px;font-weight:700;text-transform:uppercase;letter-spacing:1.2px;color:var(--earth);margin-bottom:6px}
.form-group select,.form-group input{width:100%;padding:10px 12px;border:2px solid rgba(45,27,14,0.1);border-radius:10px;font-family:'DM Sans',sans-serif;font-size:14px;color:var(--text);background:var(--cream);outline:none;transition:all .2s;cursor:pointer;font-weight:500}
.form-group select:focus,.form-group input:focus{border-color:var(--leaf-mid);background:#fff;box-shadow:0 0 0 3px rgba(61,122,61,0.1)}
.form-group select:hover,.form-group input:hover{border-color:rgba(45,27,14,0.2)}
.analyze-btn{width:100%;padding:15px;background:linear-gradient(135deg,var(--leaf-mid),#1a3d1a);color:#fff;border:none;border-radius:12px;font-family:'DM Sans',sans-serif;font-size:15px;font-weight:700;cursor:pointer;transition:all .3s;display:flex;align-items:center;justify-content:center;gap:9px;letter-spacing:0.2px}
.analyze-btn:hover{transform:translateY(-2px);box-shadow:0 10px 32px rgba(46,107,46,0.45)}

/* ‚ïê‚ïê RESULTS ‚ïê‚ïê */
.results-section{display:none}
.results-section.visible{display:block;animation:fadeUp .5s ease}
@keyframes fadeUp{from{opacity:0;transform:translateY(24px)}to{opacity:1;transform:translateY(0)}}
.kpi-row{display:grid;grid-template-columns:1fr 1fr;gap:14px;margin-bottom:18px}
.kpi-card{background:#fff;border-radius:18px;padding:24px;text-align:center;box-shadow:var(--card-shadow);border:var(--card-border);position:relative;overflow:hidden}
.kpi-card::before{content:'';position:absolute;top:0;left:0;right:0;height:4px;border-radius:18px 18px 0 0}
.kpi-card.g::before{background:linear-gradient(90deg,var(--leaf),var(--leaf-light))}
.kpi-card.o::before{background:linear-gradient(90deg,var(--warn),#E8900A)}
.kpi-bg-icon{position:absolute;bottom:-12px;right:-8px;opacity:0.04;pointer-events:none}
.kpi-lbl{font-size:10.5px;font-weight:700;text-transform:uppercase;letter-spacing:1.5px;color:var(--muted);margin-bottom:8px;display:flex;align-items:center;justify-content:center;gap:6px}
.kpi-val{font-family:'Playfair Display',serif;font-size:32px;font-weight:900;line-height:1;margin-bottom:5px}
.kpi-card.g .kpi-val{color:var(--leaf)}.kpi-card.o .kpi-val{color:var(--warn)}
.kpi-desc{font-size:12px;color:var(--muted);font-weight:400}
.mod-grid{display:grid;grid-template-columns:1fr 1fr;gap:16px;margin-bottom:16px}
.mod-card{background:#fff;border-radius:18px;padding:24px;box-shadow:var(--card-shadow);border:var(--card-border)}
.mod-hdr{display:flex;align-items:center;gap:12px;margin-bottom:14px}
.mod-icon-wrap{width:44px;height:44px;border-radius:13px;display:flex;align-items:center;justify-content:center;flex-shrink:0}
.mod-icon-wrap.g{background:linear-gradient(135deg,rgba(61,122,61,0.15),rgba(61,122,61,0.05))}
.mod-icon-wrap.o{background:linear-gradient(135deg,rgba(212,120,10,0.15),rgba(212,120,10,0.05))}
.mod-icon-wrap.b{background:linear-gradient(135deg,rgba(26,111,168,0.15),rgba(26,111,168,0.05))}
.mod-icon-wrap.r{background:linear-gradient(135deg,rgba(192,57,43,0.15),rgba(192,57,43,0.05))}
.mod-hdr-t h3{font-family:'Playfair Display',serif;font-size:16px;color:var(--soil);margin-bottom:2px}
.mod-hdr-t p{font-size:11px;color:var(--muted);font-weight:400}
.timeline-track{height:8px;background:rgba(45,27,14,0.07);border-radius:4px;position:relative;margin-bottom:6px}
.timeline-fill{position:absolute;top:0;height:100%;border-radius:4px;background:linear-gradient(90deg,var(--leaf-light),var(--harvest))}
.timeline-marker{position:absolute;top:50%;transform:translateY(-50%);width:16px;height:16px;background:var(--harvest);border:3px solid #fff;border-radius:50%;box-shadow:0 2px 10px rgba(228,184,75,0.6)}
.tl-labels{display:flex;justify-content:space-between;font-size:10px;color:var(--muted);font-weight:500}
.harvest-rec{background:linear-gradient(135deg,rgba(46,107,46,0.07),rgba(46,107,46,0.02));border:1.5px solid rgba(46,107,46,0.2);border-radius:12px;padding:14px;margin-top:12px}
.rec-main{font-size:17px;font-weight:700;color:var(--leaf);margin-bottom:3px;font-family:'Playfair Display',serif}
.rec-sub{font-size:12px;color:var(--muted);line-height:1.6;font-weight:400}
.flist{display:flex;flex-direction:column;gap:6px;margin-top:10px}
.fi{display:flex;align-items:center;gap:9px;padding:7px 11px;border-radius:8px;background:rgba(45,27,14,0.025);font-size:12px;font-weight:400}
.fi.good{border-left:3px solid var(--success)}.fi.warn{border-left:3px solid var(--warn)}.fi.bad{border-left:3px solid var(--rust)}
.fdot{width:7px;height:7px;border-radius:50%;flex-shrink:0}
.fi.good .fdot{background:var(--success)}.fi.warn .fdot{background:var(--warn)}.fi.bad .fdot{background:var(--rust)}
.mkt-tbl{width:100%;border-collapse:collapse;font-size:12.5px;margin-top:8px}
.mkt-tbl th{text-align:left;padding:7px 8px;font-size:10px;font-weight:700;text-transform:uppercase;letter-spacing:1px;color:var(--muted);border-bottom:2px solid rgba(45,27,14,0.07)}
.mkt-tbl td{padding:9px 8px;border-bottom:1px solid rgba(45,27,14,0.05);vertical-align:middle}
.mkt-tbl tr.br{background:rgba(46,107,46,0.04)}
.best-badge{background:var(--leaf);color:#fff;font-size:9px;font-weight:700;padding:2px 7px;border-radius:6px;text-transform:uppercase;margin-left:5px;letter-spacing:0.5px}
.pbar-wrap{display:flex;align-items:center;gap:6px}
.pbar{height:5px;border-radius:3px;min-width:8px}
.gauge-wrap{display:flex;align-items:center;gap:18px;margin:12px 0 14px}
.gauge-c{width:88px;height:88px;border-radius:50%;flex-shrink:0;display:flex;align-items:center;justify-content:center;flex-direction:column;position:relative}
.gauge-c svg{position:absolute;inset:0;transform:rotate(-90deg)}
.gauge-n{font-family:'Playfair Display',serif;font-size:23px;font-weight:900;position:relative;z-index:1;line-height:1}
.gauge-p{font-size:10px;color:var(--muted);position:relative;z-index:1;font-weight:500}
.gauge-t h4{font-size:14px;font-weight:700;margin-bottom:4px}
.gauge-t p{font-size:12px;color:var(--muted);line-height:1.5;font-weight:400}
.act-list{display:flex;flex-direction:column;gap:8px}
.act-item{display:flex;align-items:center;gap:11px;padding:10px 13px;border-radius:10px;border:1px solid rgba(45,27,14,0.08);background:rgba(253,248,238,0.6);transition:all .2s}
.act-item:hover{background:rgba(46,107,46,0.05);border-color:rgba(46,107,46,0.2);transform:translateX(2px)}
.act-rank{width:28px;height:28px;border-radius:8px;display:flex;align-items:center;justify-content:center;font-size:12px;font-weight:700;flex-shrink:0}
.act-rank.r1{background:rgba(30,132,73,0.15);color:var(--success)}.act-rank.r2{background:rgba(26,111,168,0.15);color:var(--blue)}.act-rank.r3{background:rgba(212,120,10,0.15);color:var(--warn)}
.act-body{flex:1}
.act-name{font-size:13px;font-weight:600;color:var(--soil)}
.act-detail{font-size:11px;color:var(--muted);margin-top:1px;font-weight:400}
.act-cost{font-size:11px;font-weight:700;color:var(--earth);white-space:nowrap}
.dots{display:flex;gap:3px}
.dot{width:7px;height:7px;border-radius:50%;background:rgba(45,27,14,0.12)}
.dot.f{background:var(--leaf)}
.why-card{background:linear-gradient(135deg,var(--soil),#1a0d06);border-radius:22px;padding:30px;margin-top:16px;position:relative;overflow:hidden;box-shadow:0 8px 40px rgba(45,27,14,0.25)}
.why-card::before{content:'"';position:absolute;top:-30px;right:28px;font-family:'Playfair Display',serif;font-size:200px;color:rgba(255,255,255,0.025);pointer-events:none;line-height:1}
.reason-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:13px;margin-top:18px}
.reason-step{background:rgba(255,255,255,0.055);border:1px solid rgba(255,255,255,0.1);border-radius:14px;padding:18px;transition:all .2s}
.reason-step:hover{background:rgba(255,255,255,0.08)}
.rs-num{font-family:'Playfair Display',serif;font-size:32px;font-weight:900;color:rgba(232,184,75,0.28);line-height:1;margin-bottom:7px}
.rs-title{font-size:13px;font-weight:700;color:var(--harvest);margin-bottom:5px;display:flex;align-items:center;gap:6px}
.rs-desc{font-size:12px;color:rgba(255,255,255,0.6);line-height:1.55;font-weight:400}
.conf-banner{background:rgba(232,184,75,0.08);border:1px solid rgba(232,184,75,0.2);border-radius:12px;padding:13px 16px;display:flex;align-items:center;gap:13px;margin-top:15px}
.conf-t h4{font-size:12px;font-weight:700;color:var(--harvest);margin-bottom:2px}
.conf-t p{font-size:11px;color:rgba(255,255,255,0.5);line-height:1.4;font-weight:400}
.conf-bar-o{width:90px;height:5px;background:rgba(255,255,255,0.1);border-radius:3px;overflow:hidden;margin-bottom:3px}
.conf-bar-i{height:100%;background:linear-gradient(90deg,var(--harvest),#F5D76E);border-radius:3px;transition:width .8s ease}
.conf-pct{font-size:11px;font-weight:700;color:var(--harvest)}

/* ‚ïê‚ïê ABOUT ‚ïê‚ïê */
#about{background:#fff;scroll-margin-top:var(--nav-h)}
.about-grid{display:grid;grid-template-columns:1fr 1fr;gap:56px;align-items:start;margin-top:36px}
.about-txt h3{font-family:'Playfair Display',serif;font-size:25px;color:var(--soil);margin-bottom:13px}
.about-txt p{color:var(--muted);line-height:1.85;margin-bottom:14px;font-size:14px;font-weight:400}
.about-cards{display:grid;grid-template-columns:1fr 1fr;gap:13px}
.ab-card{background:var(--cream);border-radius:14px;padding:20px;border:1px solid rgba(45,27,14,0.07);transition:all .2s;cursor:default}
.ab-card:hover{transform:translateY(-3px);box-shadow:0 8px 24px rgba(45,27,14,0.1)}
.ab-icon{width:44px;height:44px;border-radius:12px;display:flex;align-items:center;justify-content:center;margin-bottom:12px}
.ab-card h4{font-size:13px;font-weight:700;color:var(--soil);margin-bottom:5px}
.ab-card p{font-size:12px;color:var(--muted);line-height:1.6;font-weight:400}
.mission-strip{margin-top:48px;padding-top:40px;border-top:1px solid rgba(45,27,14,0.08);text-align:center}
.mission-strip h3{font-family:'Playfair Display',serif;font-size:24px;color:var(--soil);margin-bottom:13px}
.mission-strip p{color:var(--muted);max-width:580px;margin:0 auto 30px;font-size:14px;line-height:1.8;font-weight:400}
.team-row{display:grid;grid-template-columns:repeat(4,1fr);gap:18px}
.team-c{text-align:center}
.team-av{width:68px;height:68px;border-radius:50%;margin:0 auto 10px;display:flex;align-items:center;justify-content:center}
.team-c h4{font-size:13px;font-weight:700;color:var(--soil)}
.team-c p{font-size:11px;color:var(--muted);font-weight:400}

/* ‚ïê‚ïê SCHEMES ‚ïê‚ïê */
#schemes{scroll-margin-top:var(--nav-h)}
.filter-row{display:flex;gap:8px;flex-wrap:wrap;margin-bottom:24px}
.fbtn{padding:7px 15px;border-radius:20px;border:2px solid rgba(45,27,14,0.1);background:transparent;color:var(--muted);cursor:pointer;font-size:13px;font-weight:600;transition:all .2s;font-family:'DM Sans',sans-serif;display:flex;align-items:center;gap:6px}
.fbtn.active,.fbtn:hover{border-color:var(--leaf-mid);background:rgba(61,122,61,0.07);color:var(--leaf)}
.schemes-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(295px,1fr));gap:18px}
.scheme-c{background:#fff;border-radius:17px;padding:23px;border:1px solid rgba(45,27,14,0.07);border-left:4px solid var(--leaf);box-shadow:0 2px 12px rgba(45,27,14,0.05);transition:all .25s;cursor:pointer}
.scheme-c:hover{transform:translateY(-4px);box-shadow:0 12px 30px rgba(45,27,14,0.12)}
.sch-badge{display:inline-flex;align-items:center;gap:5px;padding:3px 9px;border-radius:16px;font-size:10px;font-weight:700;text-transform:uppercase;letter-spacing:0.5px;margin-bottom:12px}
.sch-badge.central{background:rgba(26,111,168,0.1);color:#1A5A8C}
.sch-badge.state{background:rgba(30,132,73,0.1);color:#1E6B3B}
.sch-badge.credit{background:rgba(192,84,0,0.1);color:#8B3E00}
.scheme-c h3{font-family:'Playfair Display',serif;font-size:16px;color:var(--soil);margin-bottom:8px}
.scheme-c p{font-size:13px;color:var(--muted);line-height:1.65;margin-bottom:12px;font-weight:400}
.sch-benefit{display:flex;align-items:center;gap:7px;font-size:13px;font-weight:600;color:var(--leaf)}
.sch-tags{display:flex;gap:5px;flex-wrap:wrap;margin-top:11px}
.sch-tag{background:rgba(46,107,46,0.08);color:var(--leaf);font-size:11px;padding:3px 8px;border-radius:5px;font-weight:600}
.sch-link{display:inline-flex;align-items:center;gap:4px;margin-top:13px;font-size:12px;font-weight:700;color:var(--leaf);text-decoration:none}

/* ‚ïê‚ïê LOADING ‚ïê‚ïê */
.loading-overlay{position:fixed;inset:0;background:rgba(45,27,14,0.6);backdrop-filter:blur(5px);display:none;align-items:center;justify-content:center;z-index:500}
.loading-overlay.active{display:flex}
.loading-box{background:#fff;border-radius:22px;padding:38px 46px;text-align:center;box-shadow:0 24px 70px rgba(0,0,0,0.25);min-width:300px}
.spin{width:56px;height:56px;margin:0 auto 18px;border-radius:50%;border:4px solid rgba(46,107,46,0.12);border-top-color:var(--leaf);animation:spin .75s linear infinite}
@keyframes spin{to{transform:rotate(360deg)}}
.ls-list{list-style:none;text-align:left;margin-top:14px}
.ls-list li{font-size:13px;color:var(--muted);padding:4px 0 4px 22px;position:relative;font-weight:400}
.ls-list li::before{content:'‚óã';position:absolute;left:0;color:var(--muted)}
.ls-list li.done::before{content:'‚úì';color:var(--success)}
.ls-list li.active::before{content:'‚óâ';color:var(--harvest)}

/* ‚ïê‚ïê CHATBOT ‚ïê‚ïê */
.chat-fab{position:fixed;bottom:28px;right:28px;z-index:300;width:62px;height:62px;border-radius:50%;background:linear-gradient(135deg,var(--leaf-mid),#1a3d1a);border:none;cursor:pointer;box-shadow:0 6px 24px rgba(46,107,46,0.55);display:flex;align-items:center;justify-content:center;transition:all .3s}
.chat-fab:hover{transform:scale(1.08);box-shadow:0 10px 32px rgba(46,107,46,0.7)}
.fab-pulse{position:absolute;width:100%;height:100%;border-radius:50%;background:rgba(46,107,46,0.3);animation:fabPulse 2.5s ease-in-out infinite}
@keyframes fabPulse{0%,100%{transform:scale(1);opacity:0.6}50%{transform:scale(1.25);opacity:0}}
.fab-label{position:fixed;bottom:38px;right:100px;z-index:300;background:var(--soil);color:var(--harvest);font-size:12px;font-weight:700;padding:6px 12px;border-radius:20px;white-space:nowrap;pointer-events:none;box-shadow:0 4px 14px rgba(0,0,0,0.2);display:flex;align-items:center;gap:5px}
.chat-win{position:fixed;bottom:102px;right:28px;z-index:300;width:370px;height:560px;background:#fff;border-radius:22px;box-shadow:0 24px 70px rgba(45,27,14,0.22);display:none;flex-direction:column;overflow:hidden;border:1px solid rgba(45,27,14,0.1)}
.chat-win.open{display:flex;animation:chatO .3s cubic-bezier(.34,1.56,.64,1)}
@keyframes chatO{from{opacity:0;transform:translateY(20px) scale(0.94)}to{opacity:1;transform:translateY(0) scale(1)}}
.chat-hdr{background:linear-gradient(135deg,var(--leaf-mid),#1a3d1a);padding:15px 18px;display:flex;align-items:center;gap:12px}
.chat-av{width:40px;height:40px;border-radius:50%;background:linear-gradient(135deg,var(--harvest),#d4a00e);display:flex;align-items:center;justify-content:center;flex-shrink:0}
.chat-hdr-t h4{font-size:14px;font-weight:700;color:#fff}
.chat-hdr-t p{font-size:11px;color:rgba(255,255,255,0.65);font-weight:400}
.chat-status{display:flex;align-items:center;gap:5px;margin-left:auto}
.chat-dot{width:7px;height:7px;border-radius:50%;background:#2ECC71;animation:pulse 2s infinite}
.chat-status-txt{font-size:11px;color:rgba(255,255,255,0.7);font-weight:500}
.chat-x{background:rgba(255,255,255,0.12);border:none;color:#fff;width:28px;height:28px;border-radius:50%;cursor:pointer;font-size:14px;display:flex;align-items:center;justify-content:center;transition:all .2s;margin-left:8px}
.chat-x:hover{background:rgba(255,255,255,0.2)}
.chat-msgs{flex:1;overflow-y:auto;padding:14px;display:flex;flex-direction:column;gap:10px;scroll-behavior:smooth}
.chat-msgs::-webkit-scrollbar{width:4px}
.chat-msgs::-webkit-scrollbar-thumb{background:rgba(45,27,14,0.15);border-radius:2px}
.cmsg{max-width:86%}
.cmsg.bot{align-self:flex-start}.cmsg.user{align-self:flex-end}
.cbubble{padding:10px 14px;border-radius:14px;font-size:13px;line-height:1.55;font-weight:400}
.cmsg.bot .cbubble{background:var(--cream);color:var(--text);border:1px solid rgba(45,27,14,0.08);border-radius:4px 14px 14px 14px}
.cmsg.user .cbubble{background:linear-gradient(135deg,var(--leaf-mid),#1a3d1a);color:#fff;border-radius:14px 4px 14px 14px}
.ctime{font-size:10px;color:var(--muted);margin-top:3px;font-weight:400}
.cmsg.user .ctime{text-align:right}
.stream-cursor::after{content:'‚ñã';animation:blink .7s infinite;color:var(--leaf-mid)}
@keyframes blink{0%,100%{opacity:1}50%{opacity:0}}
.quick-btns{display:flex;flex-wrap:wrap;gap:6px;padding:10px 14px 4px}
.qbtn{padding:5px 11px;border-radius:14px;border:1px solid rgba(46,107,46,0.22);background:rgba(46,107,46,0.06);color:var(--leaf);font-size:11.5px;font-weight:600;cursor:pointer;transition:all .2s;font-family:'DM Sans',sans-serif;display:flex;align-items:center;gap:5px}
.qbtn:hover{background:var(--leaf);color:#fff;border-color:var(--leaf)}
.typing-row{display:none;padding:0 14px 2px}
.typing-row.vis{display:flex}
.tbubble{background:var(--cream);border:1px solid rgba(45,27,14,0.08);border-radius:4px 14px 14px 14px;padding:10px 14px;display:flex;gap:4px;align-items:center}
.tdot{width:7px;height:7px;border-radius:50%;background:var(--muted);animation:tb 1.4s infinite}
.tdot:nth-child(2){animation-delay:.2s}.tdot:nth-child(3){animation-delay:.4s}
@keyframes tb{0%,60%,100%{transform:translateY(0)}30%{transform:translateY(-8px)}}
.chat-inp-row{padding:11px 14px;border-top:1px solid rgba(45,27,14,0.07);display:flex;gap:8px;align-items:flex-end}
.chat-inp{flex:1;padding:9px 13px;border:2px solid rgba(45,27,14,0.1);border-radius:16px;font-family:'DM Sans',sans-serif;font-size:13px;outline:none;transition:all .2s;background:var(--cream);resize:none;max-height:80px;font-weight:400}
.chat-inp:focus{border-color:var(--leaf-mid);background:#fff}
.chat-send{width:36px;height:36px;border-radius:50%;background:linear-gradient(135deg,var(--leaf-mid),#1a3d1a);border:none;color:#fff;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s;flex-shrink:0}
.chat-send:hover{transform:scale(1.1);box-shadow:0 4px 14px rgba(46,107,46,0.45)}
.chat-send:disabled{opacity:0.5;cursor:not-allowed;transform:none}
.chat-powered{text-align:center;padding:5px 0 8px;font-size:10px;color:var(--muted);font-weight:500;display:flex;align-items:center;justify-content:center;gap:4px}

/* ‚ïê‚ïê FOOTER ‚ïê‚ïê */
footer{background:var(--soil);padding:40px 24px;text-align:center}
.f-logo{font-family:'Playfair Display',serif;font-size:24px;color:var(--harvest);font-weight:900;margin-bottom:8px;display:flex;align-items:center;justify-content:center;gap:10px}
.f-sub{font-size:12px;color:rgba(255,255,255,0.38);margin-bottom:22px;font-weight:400}
.f-links{display:flex;justify-content:center;gap:24px;flex-wrap:wrap;margin-bottom:18px}
.f-links a{color:rgba(255,255,255,0.55);font-size:13px;text-decoration:none;font-weight:500;transition:color .2s}
.f-links a:hover{color:var(--harvest)}
.f-copy{font-size:11px;color:rgba(255,255,255,0.28);font-weight:400}

@media(max-width:900px){
  .hero-inner,.about-grid{grid-template-columns:1fr}
  .feature-cards{display:none}
  .kpi-row,.mod-grid,.reason-grid{grid-template-columns:1fr}
  .chat-win{width:calc(100vw - 24px);right:12px}
  .nav-links{display:none}
  .team-row{grid-template-columns:1fr 1fr}
}
@media(max-width:600px){
  .hero-h1{font-size:36px}
  .hero-stats,.about-cards{grid-template-columns:1fr 1fr}
  .form-grid{grid-template-columns:1fr 1fr}
}
</style>
</head>
<body>

<!-- NAVBAR -->
<nav class="navbar">
  <div class="nav-brand" onclick="gotoSec('home')">
    <div class="nav-logo">
      <svg width="22" height="22" viewBox="0 0 24 24" fill="none">
        <path d="M12 2C12 2 6.5 7.5 6.5 13a5.5 5.5 0 0011 0C17.5 7.5 12 2 12 2z" fill="var(--soil)"/>
        <path d="M12 13v7" stroke="var(--soil)" stroke-width="1.8" stroke-linecap="round"/>
        <path d="M9.5 16.5L12 14l2.5 2.5" stroke="var(--soil)" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
    </div>
    <div>
      <div class="nav-brand-name">KisanMitra</div>
      <div class="nav-brand-sub">Smart Farming Platform</div>
    </div>
  </div>
  <div class="nav-links">
    <button class="nav-link active" onclick="gotoSec('home',this)">
      <svg width="14" height="14" viewBox="0 0 24 24" fill="currentColor"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>Home
    </button>
    <button class="nav-link" onclick="gotoSec('analyzer',this)">
      <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"/><path d="M21 21l-4.35-4.35"/></svg>Analyzer
    </button>
    <button class="nav-link" onclick="gotoSec('about',this)">
      <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M12 16v-4M12 8h.01"/></svg>About
    </button>
    <button class="nav-link" onclick="gotoSec('schemes',this)">
      <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 9l9-7 9 7v11a2 2 0 01-2 2H5a2 2 0 01-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>Govt Schemes
    </button>
  </div>
  <button class="nav-cta" onclick="gotoSec('analyzer',null)">
    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/></svg>Free Analysis
  </button>
  <div class="nav-lang">
    <button class="lang-btn active" onclick="setLang('en',this)">EN</button>
    <button class="lang-btn" onclick="setLang('hi',this)">‡§π‡§ø</button>
  </div>
</nav>

<!-- LOADING -->
<div class="loading-overlay" id="loadingOverlay">
  <div class="loading-box">
    <div class="spin"></div>
    <h3 style="font-family:'Playfair Display',serif;color:var(--soil);margin-bottom:5px;font-size:20px">Analyzing your crop‚Ä¶</h3>
    <p style="font-size:13px;color:var(--muted);margin-bottom:14px;font-weight:400">Pulling real-time data from multiple sources</p>
    <ul class="ls-list" id="lsList">
      <li class="active" id="ls1">Fetching weather forecast (7-day)</li>
      <li id="ls2">Reading soil health indicators</li>
      <li id="ls3">Scanning mandi price history (90-day)</li>
      <li id="ls4">Calculating optimal harvest window</li>
      <li id="ls5">Assessing spoilage risk & storage</li>
      <li id="ls6">Ranking best markets by net profit</li>
    </ul>
  </div>
</div>

<!-- HOME -->
<section id="home" style="scroll-margin-top:var(--nav-h)">
  <div class="hero-band">
    <div class="hero-glow"></div>
    <div class="hero-inner">
      <div>
        <div class="hero-badge">
          <div class="hero-badge-dot"></div>
          <span>AI-Powered Farm Intelligence ‚Äî Free</span>
        </div>
        <h1 class="hero-h1">Smart Farming,<br><em>Better Earnings</em><br>for Every Kisan</h1>
        <p class="hero-p">India's AI-powered farm-to-market platform. Know exactly <strong>when to harvest</strong>, <strong>where to sell</strong>, and <strong>how to store</strong> ‚Äî in plain language, in your language.</p>
        <div class="hero-btns">
          <button class="btn-primary" onclick="gotoSec('analyzer',null)">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/></svg>Get Free Analysis
          </button>
          <button class="btn-outline" onclick="gotoSec('schemes',null)">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 9l9-7 9 7v11a2 2 0 01-2 2H5a2 2 0 01-2-2z"/></svg>View Govt Schemes
          </button>
        </div>
        <div class="hero-stats">
          <div class="stat-box"><div class="stat-num">500+</div><div class="stat-lbl">Mandi Prices Tracked</div></div>
          <div class="stat-box"><div class="stat-num">40%</div><div class="stat-lbl">Avg Waste Reduction</div></div>
          <div class="stat-box"><div class="stat-num">9</div><div class="stat-lbl">Crops Supported</div></div>
        </div>
        <div class="hero-pills">
          <div class="hero-pill"><svg width="11" height="11" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M17.5 19H9a7 7 0 117-7v4m4 3a2 2 0 11-4 0 2 2 0 014 0z"/></svg>Live Weather</div>
          <div class="hero-pill"><svg width="11" height="11" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="22 12 18 12 15 21 9 3 6 12 2 12"/></svg>Real Mandi Data</div>
          <div class="hero-pill"><svg width="11" height="11" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M9 12l2 2 4-4M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>Explainable AI</div>
          <div class="hero-pill"><svg width="11" height="11" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15a2 2 0 01-2 2H7l-4 4V5a2 2 0 012-2h14a2 2 0 012 2z"/></svg>Hindi Support</div>
        </div>
      </div>
      <div class="feature-cards">
        <div class="feat-card">
          <div class="feat-icon-wrap" style="background:rgba(232,184,75,0.15)">
            <svg width="22" height="22" viewBox="0 0 24 24" fill="none"><rect x="3" y="4" width="18" height="18" rx="2" stroke="#E8B84B" stroke-width="2"/><line x1="16" y1="2" x2="16" y2="6" stroke="#E8B84B" stroke-width="2" stroke-linecap="round"/><line x1="8" y1="2" x2="8" y2="6" stroke="#E8B84B" stroke-width="2" stroke-linecap="round"/><line x1="3" y1="10" x2="21" y2="10" stroke="#E8B84B" stroke-width="2"/><path d="M8 14h.01M12 14h.01M16 14h.01M8 18h.01M12 18h.01" stroke="#E8B84B" stroke-width="2" stroke-linecap="round"/></svg>
          </div>
          <div><h4>Harvest Window Advisor</h4><p>Weather + soil data combined to find your perfect 4-day harvest window.</p></div>
        </div>
        <div class="feat-card">
          <div class="feat-icon-wrap" style="background:rgba(26,111,168,0.15)">
            <svg width="22" height="22" viewBox="0 0 24 24" fill="none"><path d="M3 9l9-7 9 7v11a2 2 0 01-2 2H5a2 2 0 01-2-2z" stroke="#1A6FA8" stroke-width="2"/><path d="M9 22V12h6v10" stroke="#1A6FA8" stroke-width="2"/></svg>
          </div>
          <div><h4>Best Mandi Finder</h4><p>Net profit after transport ‚Äî not just the highest price. Real data from 500+ markets.</p></div>
        </div>
        <div class="feat-card">
          <div class="feat-icon-wrap" style="background:rgba(192,57,43,0.12)">
            <svg width="22" height="22" viewBox="0 0 24 24" fill="none"><path d="M10.29 3.86L1.82 18a2 2 0 001.71 3h16.94a2 2 0 001.71-3L13.71 3.86a2 2 0 00-3.42 0z" stroke="#C0392B" stroke-width="2"/><line x1="12" y1="9" x2="12" y2="13" stroke="#C0392B" stroke-width="2" stroke-linecap="round"/><line x1="12" y1="17" x2="12.01" y2="17" stroke="#C0392B" stroke-width="2" stroke-linecap="round"/></svg>
          </div>
          <div><h4>Spoilage Risk Guard</h4><p>Post-harvest spoilage predicted. Preservation actions ranked by cost-effectiveness.</p></div>
        </div>
        <div class="feat-card">
          <div class="feat-icon-wrap" style="background:rgba(46,107,46,0.15)">
            <svg width="22" height="22" viewBox="0 0 24 24" fill="none"><path d="M21 15a2 2 0 01-2 2H7l-4 4V5a2 2 0 012-2h14a2 2 0 012 2z" stroke="#3D7A3D" stroke-width="2"/><path d="M8 10h8M8 14h4" stroke="#3D7A3D" stroke-width="1.5" stroke-linecap="round"/></svg>
          </div>
          <div><h4>Annadata AI Chat</h4><p>Ask farming questions in Hindi or English. Powered by Claude AI ‚Äî 24√ó7.</p></div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- ANALYZER -->
<section id="analyzer">
  <div class="sec-wrap">
    <div class="sec-title">
      <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="var(--leaf)" stroke-width="2"><circle cx="11" cy="11" r="8"/><path d="M21 21l-4.35-4.35"/><path d="M11 8v3l2 2" stroke-linecap="round"/></svg>
      Crop Intelligence Analyzer
    </div>
    <div class="sec-sub">Enter your crop details ‚Äî get harvest timing, best market, spoilage risk & preservation advice in seconds</div>
    <div class="input-card">
      <div class="card-title">
        <svg width="22" height="22" viewBox="0 0 24 24" fill="none"><path d="M12 2a7 7 0 017 7c0 5-7 13-7 13S5 14 5 9a7 7 0 017-7z" stroke="var(--leaf)" stroke-width="2"/><circle cx="12" cy="9" r="2.5" stroke="var(--leaf)" stroke-width="2"/></svg>
        Tell us about your crop
      </div>
      <div class="card-sub">All fields are used to give you the most accurate, personalised recommendation</div>
      <div class="form-grid">
        <div class="form-group">
          <label><svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="var(--earth)" stroke-width="2"><path d="M12 2a7 7 0 017 7c0 5-7 13-7 13S5 14 5 9a7 7 0 017-7z"/><circle cx="12" cy="9" r="2.5"/></svg>Crop Type</label>
          <select id="cropType" onchange="onInputChange()">
            <option value="tomato">üçÖ Tomato (‡§ü‡§Æ‡§æ‡§ü‡§∞)</option>
            <option value="wheat">üåæ Wheat (‡§ó‡•á‡§π‡•Ç‡§Ç)</option>
            <option value="rice">üåæ Rice (‡§ö‡§æ‡§µ‡§≤)</option>
            <option value="onion">üßÖ Onion (‡§™‡•ç‡§Ø‡§æ‡§ú)</option>
            <option value="potato">ü•î Potato (‡§Ü‡§≤‡•Ç)</option>
            <option value="soybean">ü´ò Soybean (‡§∏‡•ã‡§Ø‡§æ‡§¨‡•Ä‡§®)</option>
            <option value="cotton">üåø Cotton (‡§ï‡§™‡§æ‡§∏)</option>
            <option value="maize">üåΩ Maize (‡§Æ‡§ï‡•ç‡§ï‡§æ)</option>
          </select>
        </div>
        <div class="form-group">
          <label><svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="var(--earth)" stroke-width="2"><path d="M3 9l9-7 9 7v11a2 2 0 01-2 2H5a2 2 0 01-2-2z"/></svg>State</label>
          <select id="state" onchange="onStateChange()">
            <option value="maharashtra">Maharashtra</option>
            <option value="punjab">Punjab</option>
            <option value="uttar_pradesh">Uttar Pradesh</option>
            <option value="madhya_pradesh">Madhya Pradesh</option>
            <option value="rajasthan">Rajasthan</option>
            <option value="karnataka">Karnataka</option>
            <option value="gujarat">Gujarat</option>
            <option value="haryana">Haryana</option>
            <option value="andhra_pradesh">Andhra Pradesh</option>
            <option value="telangana">Telangana</option>
          </select>
        </div>
        <div class="form-group">
          <label><svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="var(--earth)" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M2 12h20M12 2a15.3 15.3 0 010 20M12 2a15.3 15.3 0 000 20"/></svg>District / Mandi Area</label>
          <select id="district" onchange="onInputChange()"></select>
        </div>
        <div class="form-group">
          <label><svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="var(--earth)" stroke-width="2"><rect x="3" y="4" width="18" height="18" rx="2"/><line x1="3" y1="10" x2="21" y2="10"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="16" y1="2" x2="16" y2="6"/></svg>Harvest Stage</label>
          <select id="harvestStage" onchange="onInputChange()">
            <option value="15days">Ready in ~15 days</option>
            <option value="7days">Ready in ~7 days</option>
            <option value="ready">Ready now</option>
            <option value="overdue">Slightly overdue</option>
          </select>
        </div>
        <div class="form-group">
          <label><svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="var(--earth)" stroke-width="2"><path d="M21 16V8a2 2 0 00-1-1.73l-7-4a2 2 0 00-2 0l-7 4A2 2 0 003 8v8a2 2 0 001 1.73l7 4a2 2 0 002 0l7-4A2 2 0 0021 16z"/></svg>Storage Available</label>
          <select id="storage" onchange="onInputChange()">
            <option value="none">No cold storage</option>
            <option value="warehouse">Warehouse (dry)</option>
            <option value="cold">Cold storage</option>
            <option value="home">Home storage</option>
          </select>
        </div>
        <div class="form-group">
          <label><svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="var(--earth)" stroke-width="2"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0118 0z"/><circle cx="12" cy="10" r="3"/></svg>Land Size (Acres)</label>
          <input type="number" id="landSize" value="2.5" min="0.5" step="0.5" onchange="onInputChange()">
        </div>
      </div>
      <button class="analyze-btn" onclick="runAnalysis()">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/></svg>
        Get My Recommendations ‚Äî Free
      </button>
    </div>

    <!-- RESULTS -->
    <div class="results-section" id="resultsSection">
      <div class="kpi-row">
        <div class="kpi-card g">
          <svg class="kpi-bg-icon" width="80" height="80" viewBox="0 0 24 24" fill="var(--leaf)"><rect x="3" y="4" width="18" height="18" rx="2"/></svg>
          <div class="kpi-lbl"><svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="4" width="18" height="18" rx="2"/><line x1="3" y1="10" x2="21" y2="10"/></svg>Best Harvest Window</div>
          <div class="kpi-val" id="harvestDateVal">‚Äî</div>
          <div class="kpi-desc" id="harvestDaysVal">‚Äî</div>
        </div>
        <div class="kpi-card o">
          <svg class="kpi-bg-icon" width="80" height="80" viewBox="0 0 24 24" fill="var(--warn)"><path d="M10.29 3.86L1.82 18a2 2 0 001.71 3h16.94a2 2 0 001.71-3L13.71 3.86a2 2 0 00-3.42 0z"/></svg>
          <div class="kpi-lbl"><svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M10.29 3.86L1.82 18a2 2 0 001.71 3h16.94a2 2 0 001.71-3L13.71 3.86a2 2 0 00-3.42 0z"/><line x1="12" y1="9" x2="12" y2="13"/></svg>Spoilage Risk</div>
          <div class="kpi-val" id="spoilageVal">‚Äî</div>
          <div class="kpi-desc" id="spoilageDescVal">‚Äî</div>
        </div>
      </div>
      <div class="mod-grid">
        <div class="mod-card">
          <div class="mod-hdr">
            <div class="mod-icon-wrap g"><svg width="22" height="22" viewBox="0 0 24 24" fill="none"><rect x="3" y="4" width="18" height="18" rx="2" stroke="var(--leaf)" stroke-width="2"/><line x1="3" y1="10" x2="21" y2="10" stroke="var(--leaf)" stroke-width="2"/><line x1="8" y1="2" x2="8" y2="6" stroke="var(--leaf)" stroke-width="2" stroke-linecap="round"/><line x1="16" y1="2" x2="16" y2="6" stroke="var(--leaf)" stroke-width="2" stroke-linecap="round"/><path d="M8 14h.01M12 14h.01M16 14h.01M8 18h.01M12 18h.01" stroke="var(--leaf)" stroke-width="2" stroke-linecap="round"/></svg></div>
            <div class="mod-hdr-t"><h3>Optimal Harvest Window</h3><p>Based on weather + crop maturity</p></div>
          </div>
          <div style="padding:8px 0">
            <div class="timeline-track"><div class="timeline-fill" style="left:38%;width:26%"></div><div class="timeline-marker" style="left:51%"></div></div>
            <div class="tl-labels"><span>Today</span><span id="tl2">+5d</span><span id="tl3" style="color:var(--harvest);font-weight:700">Best ‚≠ê</span><span id="tl4">+20d</span></div>
          </div>
          <div class="harvest-rec"><div class="rec-main" id="harvestRec">‚Äî</div><div class="rec-sub" id="harvestRecSub">‚Äî</div></div>
          <div class="flist" id="harvestFactors"></div>
        </div>
        <div class="mod-card">
          <div class="mod-hdr">
            <div class="mod-icon-wrap b"><svg width="22" height="22" viewBox="0 0 24 24" fill="none"><path d="M3 9l9-7 9 7v11a2 2 0 01-2 2H5a2 2 0 01-2-2z" stroke="var(--blue)" stroke-width="2"/><path d="M9 22V12h6v10" stroke="var(--blue)" stroke-width="2"/></svg></div>
            <div class="mod-hdr-t"><h3>Best Market to Sell</h3><p>Price vs transport cost analysis</p></div>
          </div>
          <table class="mkt-tbl"><thead><tr><th>Mandi</th><th>Price/kg</th><th>Transport</th><th>Net Profit</th></tr></thead><tbody id="mktBody"></tbody></table>
          <div id="trendAlert" style="margin-top:11px"></div>
        </div>
        <div class="mod-card">
          <div class="mod-hdr">
            <div class="mod-icon-wrap o"><svg width="22" height="22" viewBox="0 0 24 24" fill="none"><path d="M10.29 3.86L1.82 18a2 2 0 001.71 3h16.94a2 2 0 001.71-3L13.71 3.86a2 2 0 00-3.42 0z" stroke="var(--warn)" stroke-width="2"/><line x1="12" y1="9" x2="12" y2="13" stroke="var(--warn)" stroke-width="2" stroke-linecap="round"/><line x1="12" y1="17" x2="12.01" y2="17" stroke="var(--warn)" stroke-width="2" stroke-linecap="round"/></svg></div>
            <div class="mod-hdr-t"><h3>Post-Harvest Spoilage Risk</h3><p>Storage + transit analysis</p></div>
          </div>
          <div class="gauge-wrap">
            <div class="gauge-c">
              <svg viewBox="0 0 88 88" width="88" height="88">
                <circle cx="44" cy="44" r="36" fill="none" stroke="rgba(45,27,14,0.08)" stroke-width="8"/>
                <circle id="gaugeArc" cx="44" cy="44" r="36" fill="none" stroke="#D4780A" stroke-width="8" stroke-dasharray="226.2" stroke-dashoffset="150" stroke-linecap="round"/>
              </svg>
              <span class="gauge-n" id="gaugeN" style="color:#D4780A">‚Äî</span>
              <span class="gauge-p">risk</span>
            </div>
            <div class="gauge-t"><h4 id="gaugeL" style="color:#D4780A">‚Äî</h4><p id="gaugeD">‚Äî</p></div>
          </div>
          <div class="flist" id="spoilageFacts"></div>
        </div>
        <div class="mod-card">
          <div class="mod-hdr">
            <div class="mod-icon-wrap r"><svg width="22" height="22" viewBox="0 0 24 24" fill="none"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z" stroke="#C0392B" stroke-width="2"/><path d="M9 12l2 2 4-4" stroke="#C0392B" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg></div>
            <div class="mod-hdr-t"><h3>Preservation Actions</h3><p>Ranked by cost-effectiveness</p></div>
          </div>
          <div class="act-list" id="actList"></div>
        </div>
      </div>
      <div class="why-card">
        <div style="display:flex;align-items:center;gap:11px;margin-bottom:4px">
          <svg width="22" height="22" viewBox="0 0 24 24" fill="none"><circle cx="12" cy="12" r="10" stroke="var(--harvest)" stroke-width="2"/><path d="M9.09 9a3 3 0 015.83 1c0 2-3 3-3 3" stroke="var(--harvest)" stroke-width="2" stroke-linecap="round"/><line x1="12" y1="17" x2="12.01" y2="17" stroke="var(--harvest)" stroke-width="2" stroke-linecap="round"/></svg>
          <span style="font-family:'Playfair Display',serif;font-size:20px;color:var(--harvest);font-weight:700">Why did we recommend this?</span>
        </div>
        <div style="color:rgba(255,255,255,0.45);font-size:12.5px;margin-bottom:2px;font-weight:400">Every recommendation comes with a full explanation ‚Äî because trust matters as much as accuracy</div>
        <div class="reason-grid" id="reasonGrid"></div>
        <div class="conf-banner">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none"><circle cx="12" cy="12" r="10" stroke="var(--harvest)" stroke-width="2"/><path d="M12 8v4l3 3" stroke="var(--harvest)" stroke-width="2" stroke-linecap="round"/></svg>
          <div class="conf-t"><h4 id="confTitle">‚Äî</h4><p id="confBasis">‚Äî</p></div>
          <div style="margin-left:auto;flex-shrink:0;text-align:right">
            <div class="conf-bar-o"><div class="conf-bar-i" id="confBar" style="width:0%"></div></div>
            <div class="conf-pct" id="confPct">‚Äî</div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- ABOUT -->
<section id="about">
  <div class="sec-wrap">
    <div class="sec-title">
      <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="var(--leaf)" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M12 16v-4M12 8h.01"/></svg>
      About KisanMitra
    </div>
    <div class="sec-sub">Built to solve India's farm-to-market intelligence gap</div>
    <div class="about-grid">
      <div class="about-txt">
        <h3>The Problem We're Solving</h3>
        <p>India's farmers lose up to <strong>40% of produce</strong> not because of poor farming ‚Äî but poor timing and market mismatch. A farmer in Nashik may harvest tomatoes the same day 200 others do, crashing mandi prices.</p>
        <p>KisanMitra combines real weather data, soil health indicators, and live mandi price history to recommend the <strong>optimal harvest window</strong> and <strong>best target market</strong> for every crop and region.</p>
        <p>Every recommendation is explained in plain language ‚Äî because a farmer must <em>trust</em> advice before acting on it, especially when their livelihood is at stake.</p>
      </div>
      <div class="about-cards">
        <div class="ab-card"><div class="ab-icon" style="background:rgba(26,111,168,0.1)"><svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="var(--blue)" stroke-width="2"><path d="M17.5 19H9a7 7 0 117-7v4m4 3a2 2 0 11-4 0 2 2 0 014 0z"/></svg></div><h4>Weather Intelligence</h4><p>7-day IMD-based forecasts integrated into every harvest recommendation.</p></div>
        <div class="ab-card"><div class="ab-icon" style="background:rgba(46,107,46,0.1)"><svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="var(--leaf)" stroke-width="2"><polyline points="22 12 18 12 15 21 9 3 6 12 2 12"/></svg></div><h4>Real Mandi Data</h4><p>AGMARKNET price data from 500+ mandis across India, updated daily.</p></div>
        <div class="ab-card"><div class="ab-icon" style="background:rgba(212,120,10,0.1)"><svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="var(--warn)" stroke-width="2"><path d="M12 2a7 7 0 017 7c0 5-7 13-7 13S5 14 5 9a7 7 0 017-7z"/><circle cx="12" cy="9" r="2.5"/></svg></div><h4>Soil Health Aware</h4><p>Crop maturity windows calibrated with soil moisture and nutrient data.</p></div>
        <div class="ab-card"><div class="ab-icon" style="background:rgba(192,57,43,0.1)"><svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="var(--rust)" stroke-width="2"><path d="M17 21v-2a4 4 0 00-4-4H5a4 4 0 00-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M23 21v-2a4 4 0 00-3-3.87M16 3.13a4 4 0 010 7.75"/></svg></div><h4>Built for Farmers</h4><p>Plain language, Hindi support ‚Äî works on a basic Android phone.</p></div>
      </div>
    </div>
    <div class="mission-strip">
      <h3>Our Mission</h3>
      <p>Technology should work <em>for</em> the farmer, not the other way around. We design every feature asking: <em>"Can a farmer with a basic Android phone understand and trust this?"</em></p>
      <div class="team-row">
        <div class="team-c"><div class="team-av" style="background:rgba(46,107,46,0.1)"><svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="var(--leaf)" stroke-width="1.5"><rect x="2" y="3" width="20" height="14" rx="2"/><path d="M8 21h8M12 17v4"/></svg></div><h4>AI/ML Team</h4><p>Harvest & price models</p></div>
        <div class="team-c"><div class="team-av" style="background:rgba(26,111,168,0.1)"><svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="var(--blue)" stroke-width="1.5"><polyline points="22 12 18 12 15 21 9 3 6 12 2 12"/></svg></div><h4>Data Team</h4><p>Mandi & weather pipelines</p></div>
        <div class="team-c"><div class="team-av" style="background:rgba(212,120,10,0.1)"><svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="var(--warn)" stroke-width="1.5"><circle cx="12" cy="12" r="10"/><path d="M8 14s1.5 2 4 2 4-2 4-2M9 9h.01M15 9h.01"/></svg></div><h4>Design Team</h4><p>Farmer-first UX</p></div>
        <div class="team-c"><div class="team-av" style="background:rgba(192,57,43,0.1)"><svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="var(--rust)" stroke-width="1.5"><path d="M12 2a7 7 0 017 7c0 5-7 13-7 13S5 14 5 9a7 7 0 017-7z"/><circle cx="12" cy="9" r="2.5"/></svg></div><h4>Agri Advisors</h4><p>Domain validation</p></div>
      </div>
    </div>
  </div>
</section>

<!-- SCHEMES -->
<section id="schemes">
  <div class="sec-wrap">
    <div class="sec-title">
      <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="var(--leaf)" stroke-width="2"><path d="M3 9l9-7 9 7v11a2 2 0 01-2 2H5a2 2 0 01-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>
      Government Farmer Schemes
    </div>
    <div class="sec-sub">Central & state schemes you may be eligible for ‚Äî updated 2024‚Äì25</div>
    <div class="filter-row">
      <button class="fbtn active" onclick="filterS('all',this)"><svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="8" y1="6" x2="21" y2="6"/><line x1="8" y1="12" x2="21" y2="12"/><line x1="8" y1="18" x2="21" y2="18"/><line x1="3" y1="6" x2="3.01" y2="6"/><line x1="3" y1="12" x2="3.01" y2="12"/><line x1="3" y1="18" x2="3.01" y2="18"/></svg>All Schemes</button>
      <button class="fbtn" onclick="filterS('central',this)"><svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 9l9-7 9 7v11a2 2 0 01-2 2H5a2 2 0 01-2-2z"/></svg>Central Govt</button>
      <button class="fbtn" onclick="filterS('state',this)"><svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M2 12h20"/></svg>State Govt</button>
      <button class="fbtn" onclick="filterS('credit',this)"><svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="1" y="4" width="22" height="16" rx="2"/><line x1="1" y1="10" x2="23" y2="10"/></svg>Credit & Insurance</button>
    </div>
    <div class="schemes-grid" id="schemesGrid"></div>
  </div>
</section>

<!-- FOOTER -->
<footer>
  <div style="max-width:1180px;margin:0 auto">
    <div class="f-logo">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none"><path d="M12 2C12 2 6.5 7.5 6.5 13a5.5 5.5 0 0011 0C17.5 7.5 12 2 12 2z" fill="var(--harvest)"/><path d="M12 13v7" stroke="var(--harvest)" stroke-width="1.5" stroke-linecap="round"/></svg>
      KisanMitra
    </div>
    <div class="f-sub">Smart Farming Platform ‚Äî Farm-to-Market Intelligence</div>
    <div class="f-links">
      <a href="#" onclick="gotoSec('home',null)">Home</a>
      <a href="#" onclick="gotoSec('analyzer',null)">Analyzer</a>
      <a href="#" onclick="gotoSec('about',null)">About</a>
      <a href="#" onclick="gotoSec('schemes',null)">Schemes</a>
      <a href="https://enam.gov.in" target="_blank">e-NAM</a>
      <a href="https://pmkisan.gov.in" target="_blank">PM-KISAN</a>
    </div>
    <div class="f-copy">¬© 2025 KisanMitra. Built with ‚ù§Ô∏è for Indian Farmers. | Data: AGMARKNET, IMD | Backend: AgriChain API</div>
  </div>
</footer>

<!-- ANNADATA AI FAB -->
<div class="fab-label">
  <svg width="12" height="12" viewBox="0 0 24 24" fill="var(--harvest)"><path d="M21 15a2 2 0 01-2 2H7l-4 4V5a2 2 0 012-2h14a2 2 0 012 2z"/></svg>
  Annadata AI
</div>
<button class="chat-fab" onclick="toggleChat()" title="Ask Annadata AI">
  <div class="fab-pulse"></div>
  <svg width="26" height="26" viewBox="0 0 24 24" fill="none">
    <path d="M21 15a2 2 0 01-2 2H7l-4 4V5a2 2 0 012-2h14a2 2 0 012 2z" stroke="white" stroke-width="2" fill="rgba(255,255,255,0.1)"/>
    <path d="M8 10h8M8 14h5" stroke="white" stroke-width="1.8" stroke-linecap="round"/>
  </svg>
</button>

<div class="chat-win" id="chatWin">
  <div class="chat-hdr">
    <div class="chat-av">
      <svg width="20" height="20" viewBox="0 0 24 24" fill="none"><path d="M12 2C12 2 6.5 7.5 6.5 13a5.5 5.5 0 0011 0C17.5 7.5 12 2 12 2z" fill="var(--soil)"/><circle cx="12" cy="10" r="2" fill="var(--soil)"/></svg>
    </div>
    <div class="chat-hdr-t">
      <h4>Annadata AI</h4>
      <p>Powered by Claude ¬∑ Your crop advisor</p>
    </div>
    <div class="chat-status">
      <div class="chat-dot"></div>
      <span class="chat-status-txt">Online</span>
    </div>
    <button class="chat-x" onclick="toggleChat()">
      <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>
    </button>
  </div>
  <div class="chat-msgs" id="chatMsgs">
    <div class="cmsg bot">
      <div class="cbubble">üôè <strong>Namaste!</strong> I'm <strong>Annadata AI</strong> ‚Äî your personal farming assistant powered by Claude.<br><br>Ask me anything about crops, mandi prices, harvest timing, government schemes, or soil health. Hindi or English ‚Äî both work! üåæ</div>
      <div class="ctime">Now</div>
    </div>
  </div>
  <div class="quick-btns" id="quickBtns">
    <button class="qbtn" onclick="quickAsk('Best time to sell tomatoes in Maharashtra?')">
      <svg width="11" height="11" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="22 12 18 12 15 21 9 3 6 12 2 12"/></svg>Tomato prices
    </button>
    <button class="qbtn" onclick="quickAsk('Tell me about PM Kisan scheme eligibility')">
      <svg width="11" height="11" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 9l9-7 9 7v11a2 2 0 01-2 2H5a2 2 0 01-2-2z"/></svg>PM Kisan
    </button>
    <button class="qbtn" onclick="quickAsk('How to reduce post-harvest spoilage for vegetables?')">
      <svg width="11" height="11" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg>Spoilage tips
    </button>
    <button class="qbtn" onclick="quickAsk('When is the best time to harvest wheat in Punjab?')">
      <svg width="11" height="11" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="4" width="18" height="18" rx="2"/><line x1="3" y1="10" x2="21" y2="10"/></svg>Wheat harvest
    </button>
  </div>
  <div class="typing-row" id="typingRow">
    <div class="tbubble"><div class="tdot"></div><div class="tdot"></div><div class="tdot"></div></div>
  </div>
  <div class="chat-inp-row">
    <textarea class="chat-inp" id="chatInp" placeholder="Ask anything about farming‚Ä¶" rows="1"
      onkeydown="if(event.key==='Enter'&&!event.shiftKey){event.preventDefault();sendChat()}"
      oninput="this.style.height='auto';this.style.height=Math.min(this.scrollHeight,80)+'px'"></textarea>
    <button class="chat-send" id="chatSendBtn" onclick="sendChat()">
      <svg width="15" height="15" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><line x1="22" y1="2" x2="11" y2="13"/><polygon points="22 2 15 22 11 13 2 9 22 2"/></svg>
    </button>
  </div>
  <div class="chat-powered">
    <svg width="10" height="10" viewBox="0 0 24 24" fill="var(--muted)"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/></svg>
    Powered by Claude (Anthropic)
  </div>
</div>

<script>
// ‚ïê‚ïê Config ‚ïê‚ïê
const API_BASE = window.API_BASE || 'http://localhost:8000';

// ‚ïê‚ïê State ‚Üí Districts ‚ïê‚ïê
const STATE_DISTRICTS = {
  maharashtra:    ['Nashik','Pune','Nagpur','Amravati','Kolhapur','Aurangabad','Solapur','Latur','Akola','Jalgaon','Nanded','Satara','Sangli','Raigad','Thane'],
  punjab:         ['Amritsar','Ludhiana','Jalandhar','Patiala','Bathinda','Moga','Gurdaspur','Hoshiarpur','Sangrur','Fatehgarh Sahib'],
  uttar_pradesh:  ['Agra','Lucknow','Kanpur','Varanasi','Allahabad','Meerut','Aligarh','Bareilly','Mathura','Gorakhpur','Azamgarh','Muzaffarnagar'],
  madhya_pradesh: ['Indore','Bhopal','Jabalpur','Gwalior','Ujjain','Sagar','Ratlam','Dewas','Chhindwara','Rewa'],
  rajasthan:      ['Jaipur','Jodhpur','Udaipur','Kota','Ajmer','Alwar','Bikaner','Sikar','Bhilwara','Sri Ganganagar'],
  karnataka:      ['Bangalore','Mysore','Hubli','Belgaum','Mangalore','Dharwad','Davangere','Tumkur','Shimoga','Bidar'],
  gujarat:        ['Ahmedabad','Surat','Vadodara','Rajkot','Gandhinagar','Anand','Mehsana','Junagadh','Bhavnagar','Amreli'],
  haryana:        ['Gurugram','Faridabad','Panipat','Ambala','Karnal','Hisar','Rohtak','Sonipat','Jind','Kaithal'],
  andhra_pradesh: ['Vijayawada','Visakhapatnam','Guntur','Tirupati','Nellore','Kurnool','Kakinada','Rajahmundry','Kadapa','Anantapur'],
  telangana:      ['Hyderabad','Warangal','Nizamabad','Karimnagar','Khammam','Nalgonda','Adilabad','Mahabubnagar','Sangareddy','Medchal'],
};

function onStateChange() {
  const state = document.getElementById('state').value;
  const distSel = document.getElementById('district');
  const districts = STATE_DISTRICTS[state] || [];
  distSel.innerHTML = districts.map(d => `<option value="${d.toLowerCase().replace(/\s+/g,'-')}">${d}</option>`).join('');
  onInputChange();
}

window.addEventListener('DOMContentLoaded', () => { onStateChange(); renderSchemes(); });

let _debounceTimer = null;
function onInputChange() {
  if (document.getElementById('resultsSection').classList.contains('visible')) {
    clearTimeout(_debounceTimer);
    _debounceTimer = setTimeout(runAnalysis, 500);
  }
}

// ‚ïê‚ïê Nav ‚ïê‚ïê
function gotoSec(id, btn) {
  document.getElementById(id)?.scrollIntoView({behavior:'smooth',block:'start'});
  if (btn) { document.querySelectorAll('.nav-link').forEach(l => l.classList.remove('active')); btn.classList.add('active'); }
}
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// FULL WEBSITE HINDI/ENGLISH TRANSLATION
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
const TRANSLATIONS = {
  en: {
    // Navbar
    'nav-sub': 'Smart Farming Platform',
    'nav-home': 'Home', 'nav-analyzer': 'Analyzer', 'nav-about': 'About',
    'nav-schemes': 'Govt Schemes', 'nav-cta': 'Free Analysis',
    // Hero
    'hero-badge-txt': 'AI-Powered Farm Intelligence ‚Äî Free',
    'hero-h1': 'Smart Farming,<br><em>Better Earnings</em><br>for Every Kisan',
    'hero-p': "India's AI-powered farm-to-market platform. Know exactly <strong>when to harvest</strong>, <strong>where to sell</strong>, and <strong>how to store</strong> ‚Äî in plain language, in your language.",
    'btn-analysis': 'Get Free Analysis', 'btn-schemes': 'View Govt Schemes',
    'stat-1': 'Mandi Prices Tracked', 'stat-2': 'Avg Waste Reduction', 'stat-3': 'Crops Supported',
    'pill-1': 'Live Weather', 'pill-2': 'Real Mandi Data', 'pill-3': 'Explainable AI', 'pill-4': 'Hindi Support',
    'feat-1-h': 'Harvest Window Advisor', 'feat-1-p': 'Weather + soil data combined to find your perfect 4-day harvest window.',
    'feat-2-h': 'Best Mandi Finder', 'feat-2-p': 'Net profit after transport ‚Äî not just the highest price. Real data from 500+ markets.',
    'feat-3-h': 'Spoilage Risk Guard', 'feat-3-p': 'Post-harvest spoilage predicted. Preservation actions ranked by cost-effectiveness.',
    'feat-4-h': 'Annadata AI Chat', 'feat-4-p': 'Ask farming questions in Hindi or English. Powered by Claude AI ‚Äî 24√ó7.',
    // Analyzer
    'sec-analyzer': 'Crop Intelligence Analyzer',
    'sec-analyzer-sub': 'Enter your crop details ‚Äî get harvest timing, best market, spoilage risk & preservation advice in seconds',
    'card-title': 'Tell us about your crop',
    'card-sub': 'All fields are used to give you the most accurate, personalised recommendation',
    'lbl-crop': 'Crop Type', 'lbl-state': 'State', 'lbl-district': 'District / Mandi Area',
    'lbl-stage': 'Harvest Stage', 'lbl-storage': 'Storage Available', 'lbl-land': 'Land Size (Acres)',
    'stage-15': 'Ready in ~15 days', 'stage-7': 'Ready in ~7 days', 'stage-now': 'Ready now', 'stage-late': 'Slightly overdue',
    'storage-none': 'No cold storage', 'storage-wh': 'Warehouse (dry)', 'storage-cold': 'Cold storage', 'storage-home': 'Home storage',
    'btn-analyze': 'Get My Recommendations ‚Äî Free',
    // KPIs
    'kpi-harvest': 'Best Harvest Window', 'kpi-spoilage': 'Spoilage Risk',
    // Modules
    'mod-harvest-h': 'Optimal Harvest Window', 'mod-harvest-p': 'Based on weather + crop maturity',
    'mod-mkt-h': 'Best Market to Sell', 'mod-mkt-p': 'Price vs transport cost analysis',
    'mod-spoil-h': 'Post-Harvest Spoilage Risk', 'mod-spoil-p': 'Storage + transit analysis',
    'mod-act-h': 'Preservation Actions', 'mod-act-p': 'Ranked by cost-effectiveness',
    'tl-today': 'Today', 'tl-best': 'Best ‚≠ê',
    'mkt-col-1': 'Mandi', 'mkt-col-2': 'Price/kg', 'mkt-col-3': 'Transport', 'mkt-col-4': 'Net Profit',
    'gauge-risk': 'risk',
    // Why
    'why-title': 'Why did we recommend this?',
    'why-sub': 'Every recommendation comes with a full explanation ‚Äî because trust matters as much as accuracy',
    // About
    'sec-about': 'About KisanMitra',
    'sec-about-sub': "Built to solve India's farm-to-market intelligence gap",
    'about-h3': "The Problem We're Solving",
    'about-p1': "India's farmers lose up to <strong>40% of produce</strong> not because of poor farming ‚Äî but poor timing and market mismatch. A farmer in Nashik may harvest tomatoes the same day 200 others do, crashing mandi prices.",
    'about-p2': 'KisanMitra combines real weather data, soil health indicators, and live mandi price history to recommend the <strong>optimal harvest window</strong> and <strong>best target market</strong> for every crop and region.',
    'about-p3': 'Every recommendation is explained in plain language ‚Äî because a farmer must <em>trust</em> advice before acting on it, especially when their livelihood is at stake.',
    'ab-1-h': 'Weather Intelligence', 'ab-1-p': '7-day IMD-based forecasts integrated into every harvest recommendation.',
    'ab-2-h': 'Real Mandi Data', 'ab-2-p': 'AGMARKNET price data from 500+ mandis across India, updated daily.',
    'ab-3-h': 'Soil Health Aware', 'ab-3-p': 'Crop maturity windows calibrated with soil moisture and nutrient data.',
    'ab-4-h': 'Built for Farmers', 'ab-4-p': 'Plain language, Hindi support ‚Äî works on a basic Android phone.',
    'mission-h': 'Our Mission',
    'mission-p': 'Technology should work <em>for</em> the farmer, not the other way around. We design every feature asking: <em>"Can a farmer with a basic Android phone understand and trust this?"</em>',
    'team-1-h': 'AI/ML Team', 'team-1-p': 'Harvest & price models',
    'team-2-h': 'Data Team', 'team-2-p': 'Mandi & weather pipelines',
    'team-3-h': 'Design Team', 'team-3-p': 'Farmer-first UX',
    'team-4-h': 'Agri Advisors', 'team-4-p': 'Domain validation',
    // Schemes
    'sec-schemes': 'Government Farmer Schemes',
    'sec-schemes-sub': 'Central & state schemes you may be eligible for ‚Äî updated 2024‚Äì25',
    'flt-all': 'All Schemes', 'flt-central': 'Central Govt', 'flt-state': 'State Govt', 'flt-credit': 'Credit & Insurance',
    // Footer
    'f-sub': 'Smart Farming Platform ‚Äî Farm-to-Market Intelligence',
    'f-copy': '¬© 2025 KisanMitra. Built with ‚ù§Ô∏è for Indian Farmers. | Data: AGMARKNET, IMD | Backend: AgriChain API',
    // Loading
    'load-title': 'Analyzing your crop‚Ä¶',
    'load-sub': 'Pulling real-time data from multiple sources',
    'ls1': 'Fetching weather forecast (7-day)', 'ls2': 'Reading soil health indicators',
    'ls3': 'Scanning mandi price history (90-day)', 'ls4': 'Calculating optimal harvest window',
    'ls5': 'Assessing spoilage risk & storage', 'ls6': 'Ranking best markets by net profit',
    // Chat
    'chat-sub': 'Powered by Claude ¬∑ Your crop advisor',
    'chat-online': 'Online',
    'chat-placeholder': 'Ask anything about farming‚Ä¶',
    'chat-powered': 'Powered by Claude (Anthropic)',
    'fab-label': 'Annadata AI',
    'chat-welcome': 'üôè <strong>Namaste!</strong> I\'m <strong>Annadata AI</strong> ‚Äî your personal farming assistant powered by Claude.<br><br>Ask me anything about crops, mandi prices, harvest timing, government schemes, or soil health. Hindi or English ‚Äî both work! üåæ',
    'qbtn-1': 'Tomato prices', 'qbtn-2': 'PM Kisan', 'qbtn-3': 'Spoilage tips', 'qbtn-4': 'Wheat harvest',
  },
  hi: {
    // Navbar
    'nav-sub': '‡§∏‡•ç‡§Æ‡§æ‡§∞‡•ç‡§ü ‡§ñ‡•á‡§§‡•Ä ‡§Æ‡§Ç‡§ö',
    'nav-home': '‡§π‡•ã‡§Æ', 'nav-analyzer': '‡§µ‡§ø‡§∂‡•ç‡§≤‡•á‡§∑‡§ï', 'nav-about': '‡§™‡§∞‡§ø‡§ö‡§Ø',
    'nav-schemes': '‡§∏‡§∞‡§ï‡§æ‡§∞‡•Ä ‡§Ø‡•ã‡§ú‡§®‡§æ‡§è‡§Ç', 'nav-cta': '‡§Æ‡•Å‡§´‡§º‡•ç‡§§ ‡§µ‡§ø‡§∂‡•ç‡§≤‡•á‡§∑‡§£',
    // Hero
    'hero-badge-txt': 'AI-‡§∏‡§Ç‡§ö‡§æ‡§≤‡§ø‡§§ ‡§ñ‡•á‡§§‡•Ä ‚Äî ‡§¨‡§ø‡§≤‡•ç‡§ï‡•Å‡§≤ ‡§Æ‡•Å‡§´‡§º‡•ç‡§§',
    'hero-h1': '‡§∏‡•ç‡§Æ‡§æ‡§∞‡•ç‡§ü ‡§ñ‡•á‡§§‡•Ä,<br><em>‡§¨‡•á‡§π‡§§‡§∞ ‡§ï‡§Æ‡§æ‡§à</em><br>‡§π‡§∞ ‡§ï‡§ø‡§∏‡§æ‡§® ‡§ï‡•á ‡§≤‡§ø‡§è',
    'hero-p': '‡§≠‡§æ‡§∞‡§§ ‡§ï‡§æ AI-‡§∏‡§Ç‡§ö‡§æ‡§≤‡§ø‡§§ ‡§ñ‡•á‡§§-‡§∏‡•á-‡§Æ‡§Ç‡§°‡•Ä ‡§™‡•ç‡§≤‡•á‡§ü‡§´‡•â‡§∞‡•ç‡§Æ‡•§ ‡§∏‡§ü‡•Ä‡§ï ‡§∞‡•Ç‡§™ ‡§∏‡•á ‡§ú‡§æ‡§®‡•á‡§Ç <strong>‡§ï‡§¨ ‡§ï‡§æ‡§ü‡•á‡§Ç</strong>, <strong>‡§ï‡§π‡§æ‡§Å ‡§¨‡•á‡§ö‡•á‡§Ç</strong>, ‡§î‡§∞ <strong>‡§ï‡•à‡§∏‡•á ‡§∏‡§Ç‡§ó‡•ç‡§∞‡§π ‡§ï‡§∞‡•á‡§Ç</strong> ‚Äî ‡§∏‡§∞‡§≤ ‡§≠‡§æ‡§∑‡§æ ‡§Æ‡•á‡§Ç, ‡§Ü‡§™‡§ï‡•Ä ‡§≠‡§æ‡§∑‡§æ ‡§Æ‡•á‡§Ç‡•§',
    'btn-analysis': '‡§Æ‡•Å‡§´‡§º‡•ç‡§§ ‡§µ‡§ø‡§∂‡•ç‡§≤‡•á‡§∑‡§£ ‡§™‡§æ‡§è‡§Ç', 'btn-schemes': '‡§∏‡§∞‡§ï‡§æ‡§∞‡•Ä ‡§Ø‡•ã‡§ú‡§®‡§æ‡§è‡§Ç ‡§¶‡•á‡§ñ‡•á‡§Ç',
    'stat-1': '‡§Æ‡§Ç‡§°‡•Ä ‡§≠‡§æ‡§µ ‡§ü‡•ç‡§∞‡•à‡§ï', 'stat-2': '‡§î‡§∏‡§§ ‡§¨‡§∞‡•ç‡§¨‡§æ‡§¶‡•Ä ‡§Æ‡•á‡§Ç ‡§ï‡§Æ‡•Ä', 'stat-3': '‡§´‡§∏‡§≤‡•á‡§Ç ‡§â‡§™‡§≤‡§¨‡•ç‡§ß',
    'pill-1': '‡§≤‡§æ‡§á‡§µ ‡§Æ‡•å‡§∏‡§Æ', 'pill-2': '‡§Ö‡§∏‡§≤‡•Ä ‡§Æ‡§Ç‡§°‡•Ä ‡§°‡•á‡§ü‡§æ', 'pill-3': '‡§∏‡§Æ‡§ù‡§æ‡§®‡•á ‡§Ø‡•ã‡§ó‡•ç‡§Ø AI', 'pill-4': '‡§π‡§ø‡§Ç‡§¶‡•Ä ‡§∏‡§π‡§æ‡§Ø‡§§‡§æ',
    'feat-1-h': '‡§ï‡§ü‡§æ‡§à ‡§µ‡§ø‡§Ç‡§°‡•ã ‡§∏‡§≤‡§æ‡§π‡§ï‡§æ‡§∞', 'feat-1-p': '‡§Æ‡•å‡§∏‡§Æ + ‡§Æ‡§ø‡§ü‡•ç‡§ü‡•Ä ‡§°‡•á‡§ü‡§æ ‚Äî ‡§∏‡§¨‡§∏‡•á ‡§Ö‡§ö‡•ç‡§õ‡•Ä 4 ‡§¶‡§ø‡§® ‡§ï‡•Ä ‡§ï‡§ü‡§æ‡§à ‡§µ‡§ø‡§Ç‡§°‡•ã ‡§¨‡§§‡§æ‡§§‡§æ ‡§π‡•à‡•§',
    'feat-2-h': '‡§∏‡§¨‡§∏‡•á ‡§Ö‡§ö‡•ç‡§õ‡•Ä ‡§Æ‡§Ç‡§°‡•Ä ‡§ñ‡•ã‡§ú‡§ï', 'feat-2-p': '‡§™‡§∞‡§ø‡§µ‡§π‡§® ‡§ï‡•á ‡§¨‡§æ‡§¶ ‡§∂‡•Å‡§¶‡•ç‡§ß ‡§≤‡§æ‡§≠ ‚Äî ‡§∏‡§ø‡§∞‡•ç‡§´ ‡§∏‡§¨‡§∏‡•á ‡§ä‡§Ç‡§ö‡§æ ‡§≠‡§æ‡§µ ‡§®‡§π‡•Ä‡§Ç‡•§ 500+ ‡§Æ‡§Ç‡§°‡§ø‡§Ø‡•ã‡§Ç ‡§ï‡§æ ‡§Ö‡§∏‡§≤‡•Ä ‡§°‡•á‡§ü‡§æ‡•§',
    'feat-3-h': '‡§ñ‡§∞‡§æ‡§¨ ‡§π‡•ã‡§®‡•á ‡§ï‡§æ ‡§ú‡•ã‡§ñ‡§ø‡§Æ', 'feat-3-p': '‡§´‡§∏‡§≤ ‡§ï‡§ü‡§æ‡§à ‡§ï‡•á ‡§¨‡§æ‡§¶ ‡§ñ‡§∞‡§æ‡§¨‡•Ä ‡§ï‡§æ ‡§™‡•Ç‡§∞‡•ç‡§µ‡§æ‡§®‡•Å‡§Æ‡§æ‡§®‡•§ ‡§≤‡§æ‡§ó‡§§-‡§™‡•ç‡§∞‡§≠‡§æ‡§µ‡§∂‡•Ä‡§≤‡§§‡§æ ‡§ï‡•á ‡§Ö‡§®‡•Å‡§∏‡§æ‡§∞ ‡§∏‡§Ç‡§∞‡§ï‡•ç‡§∑‡§£ ‡§ï‡§æ‡§∞‡•ç‡§Ø‡•§',
    'feat-4-h': '‡§Ö‡§®‡•ç‡§®‡§¶‡§æ‡§§‡§æ AI ‡§ö‡•à‡§ü', 'feat-4-p': '‡§π‡§ø‡§Ç‡§¶‡•Ä ‡§Ø‡§æ ‡§Ö‡§Ç‡§ó‡•ç‡§∞‡•á‡§ú‡•Ä ‡§Æ‡•á‡§Ç ‡§ñ‡•á‡§§‡•Ä ‡§ï‡•á ‡§∏‡§µ‡§æ‡§≤ ‡§™‡•Ç‡§õ‡•á‡§Ç‡•§ Claude AI ‡§¶‡•ç‡§µ‡§æ‡§∞‡§æ ‚Äî 24√ó7‡•§',
    // Analyzer
    'sec-analyzer': '‡§´‡§∏‡§≤ ‡§¨‡•Å‡§¶‡•ç‡§ß‡§ø‡§Æ‡§§‡•ç‡§§‡§æ ‡§µ‡§ø‡§∂‡•ç‡§≤‡•á‡§∑‡§ï',
    'sec-analyzer-sub': '‡§Ö‡§™‡§®‡•Ä ‡§´‡§∏‡§≤ ‡§ï‡•Ä ‡§ú‡§æ‡§®‡§ï‡§æ‡§∞‡•Ä ‡§¶‡§∞‡•ç‡§ú ‡§ï‡§∞‡•á‡§Ç ‚Äî ‡§ï‡§ü‡§æ‡§à ‡§ï‡§æ ‡§∏‡§Æ‡§Ø, ‡§∏‡§¨‡§∏‡•á ‡§Ö‡§ö‡•ç‡§õ‡•Ä ‡§Æ‡§Ç‡§°‡•Ä, ‡§ñ‡§∞‡§æ‡§¨‡•Ä ‡§ú‡•ã‡§ñ‡§ø‡§Æ ‡§î‡§∞ ‡§∏‡§Ç‡§∞‡§ï‡•ç‡§∑‡§£ ‡§∏‡§≤‡§æ‡§π ‡§™‡§æ‡§è‡§Ç',
    'card-title': '‡§Ö‡§™‡§®‡•Ä ‡§´‡§∏‡§≤ ‡§ï‡•á ‡§¨‡§æ‡§∞‡•á ‡§Æ‡•á‡§Ç ‡§¨‡§§‡§æ‡§è‡§Ç',
    'card-sub': '‡§∏‡§≠‡•Ä ‡§´‡§º‡•Ä‡§≤‡•ç‡§° ‡§ï‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó ‡§∏‡§ü‡•Ä‡§ï, ‡§µ‡•ç‡§Ø‡§ï‡•ç‡§§‡§ø‡§ó‡§§ ‡§∏‡§ø‡§´‡§æ‡§∞‡§ø‡§∂ ‡§¶‡•á‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ï‡§ø‡§Ø‡§æ ‡§ú‡§æ‡§§‡§æ ‡§π‡•à',
    'lbl-crop': '‡§´‡§∏‡§≤ ‡§ï‡§æ ‡§™‡•ç‡§∞‡§ï‡§æ‡§∞', 'lbl-state': '‡§∞‡§æ‡§ú‡•ç‡§Ø', 'lbl-district': '‡§ú‡§ø‡§≤‡§æ / ‡§Æ‡§Ç‡§°‡•Ä ‡§ï‡•ç‡§∑‡•á‡§§‡•ç‡§∞',
    'lbl-stage': '‡§ï‡§ü‡§æ‡§à ‡§ï‡•Ä ‡§∏‡•ç‡§•‡§ø‡§§‡§ø', 'lbl-storage': '‡§â‡§™‡§≤‡§¨‡•ç‡§ß ‡§≠‡§Ç‡§°‡§æ‡§∞‡§£', 'lbl-land': '‡§≠‡•Ç‡§Æ‡§ø ‡§ï‡§æ ‡§Ü‡§ï‡§æ‡§∞ (‡§è‡§ï‡§°‡§º)',
    'stage-15': '~15 ‡§¶‡§ø‡§®‡•ã‡§Ç ‡§Æ‡•á‡§Ç ‡§§‡•à‡§Ø‡§æ‡§∞', 'stage-7': '~7 ‡§¶‡§ø‡§®‡•ã‡§Ç ‡§Æ‡•á‡§Ç ‡§§‡•à‡§Ø‡§æ‡§∞', 'stage-now': '‡§Ö‡§≠‡•Ä ‡§§‡•à‡§Ø‡§æ‡§∞', 'stage-late': '‡§•‡•ã‡§°‡§º‡§æ ‡§¶‡•á‡§∞ ‡§π‡•ã ‡§ó‡§à',
    'storage-none': '‡§ï‡•ã‡§à ‡§∂‡•Ä‡§§ ‡§≠‡§Ç‡§°‡§æ‡§∞‡§£ ‡§®‡§π‡•Ä‡§Ç', 'storage-wh': '‡§ó‡•ã‡§¶‡§æ‡§Æ (‡§∏‡•Ç‡§ñ‡§æ)', 'storage-cold': '‡§∂‡•Ä‡§§ ‡§≠‡§Ç‡§°‡§æ‡§∞‡§£', 'storage-home': '‡§ò‡§∞ ‡§Æ‡•á‡§Ç ‡§≠‡§Ç‡§°‡§æ‡§∞‡§£',
    'btn-analyze': '‡§Æ‡•á‡§∞‡•Ä ‡§∏‡§ø‡§´‡§æ‡§∞‡§ø‡§∂‡•á‡§Ç ‡§™‡§æ‡§è‡§Ç ‚Äî ‡§Æ‡•Å‡§´‡§º‡•ç‡§§',
    // KPIs
    'kpi-harvest': '‡§∏‡§¨‡§∏‡•á ‡§Ö‡§ö‡•ç‡§õ‡•Ä ‡§ï‡§ü‡§æ‡§à ‡§µ‡§ø‡§Ç‡§°‡•ã', 'kpi-spoilage': '‡§ñ‡§∞‡§æ‡§¨‡•Ä ‡§ï‡§æ ‡§ú‡•ã‡§ñ‡§ø‡§Æ',
    // Modules
    'mod-harvest-h': '‡§∏‡§∞‡•ç‡§µ‡•ã‡§§‡•ç‡§§‡§Æ ‡§ï‡§ü‡§æ‡§à ‡§µ‡§ø‡§Ç‡§°‡•ã', 'mod-harvest-p': '‡§Æ‡•å‡§∏‡§Æ + ‡§´‡§∏‡§≤ ‡§™‡§∞‡§ø‡§™‡§ï‡•ç‡§µ‡§§‡§æ ‡§ï‡•á ‡§Ü‡§ß‡§æ‡§∞ ‡§™‡§∞',
    'mod-mkt-h': '‡§¨‡•á‡§ö‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§∏‡§¨‡§∏‡•á ‡§Ö‡§ö‡•ç‡§õ‡•Ä ‡§Æ‡§Ç‡§°‡•Ä', 'mod-mkt-p': '‡§≠‡§æ‡§µ ‡§¨‡§®‡§æ‡§Æ ‡§™‡§∞‡§ø‡§µ‡§π‡§® ‡§≤‡§æ‡§ó‡§§ ‡§µ‡§ø‡§∂‡•ç‡§≤‡•á‡§∑‡§£',
    'mod-spoil-h': '‡§´‡§∏‡§≤ ‡§ï‡§ü‡§æ‡§à ‡§ï‡•á ‡§¨‡§æ‡§¶ ‡§ñ‡§∞‡§æ‡§¨‡•Ä ‡§ú‡•ã‡§ñ‡§ø‡§Æ', 'mod-spoil-p': '‡§≠‡§Ç‡§°‡§æ‡§∞‡§£ + ‡§™‡§∞‡§ø‡§µ‡§π‡§® ‡§µ‡§ø‡§∂‡•ç‡§≤‡•á‡§∑‡§£',
    'mod-act-h': '‡§∏‡§Ç‡§∞‡§ï‡•ç‡§∑‡§£ ‡§ï‡§æ‡§∞‡•ç‡§Ø', 'mod-act-p': '‡§≤‡§æ‡§ó‡§§-‡§™‡•ç‡§∞‡§≠‡§æ‡§µ‡§∂‡•Ä‡§≤‡§§‡§æ ‡§ï‡•á ‡§Ö‡§®‡•Å‡§∏‡§æ‡§∞ ‡§ï‡•ç‡§∞‡§Æ‡§¨‡§¶‡•ç‡§ß',
    'tl-today': '‡§Ü‡§ú', 'tl-best': '‡§∏‡§¨‡§∏‡•á ‡§Ö‡§ö‡•ç‡§õ‡§æ ‚≠ê',
    'mkt-col-1': '‡§Æ‡§Ç‡§°‡•Ä', 'mkt-col-2': '‡§≠‡§æ‡§µ/‡§ï‡§ø‡§≤‡•ã', 'mkt-col-3': '‡§™‡§∞‡§ø‡§µ‡§π‡§®', 'mkt-col-4': '‡§∂‡•Å‡§¶‡•ç‡§ß ‡§≤‡§æ‡§≠',
    'gauge-risk': '‡§ú‡•ã‡§ñ‡§ø‡§Æ',
    // Why
    'why-title': '‡§π‡§Æ‡§®‡•á ‡§Ø‡§π ‡§ï‡•ç‡§Ø‡•ã‡§Ç ‡§∏‡•Å‡§ù‡§æ‡§Ø‡§æ?',
    'why-sub': '‡§π‡§∞ ‡§∏‡§ø‡§´‡§æ‡§∞‡§ø‡§∂ ‡§™‡•Ç‡§∞‡•Ä ‡§µ‡•ç‡§Ø‡§æ‡§ñ‡•ç‡§Ø‡§æ ‡§ï‡•á ‡§∏‡§æ‡§• ‡§Ü‡§§‡•Ä ‡§π‡•à ‚Äî ‡§ï‡•ç‡§Ø‡•ã‡§Ç‡§ï‡§ø ‡§∏‡§ü‡•Ä‡§ï‡§§‡§æ ‡§ú‡§ø‡§§‡§®‡§æ ‡§µ‡§ø‡§∂‡•ç‡§µ‡§æ‡§∏ ‡§≠‡•Ä ‡§ú‡§∞‡•Ç‡§∞‡•Ä ‡§π‡•à',
    // About
    'sec-about': '‡§ï‡§ø‡§∏‡§æ‡§®‡§Æ‡§ø‡§§‡•ç‡§∞ ‡§ï‡•á ‡§¨‡§æ‡§∞‡•á ‡§Æ‡•á‡§Ç',
    'sec-about-sub': '‡§≠‡§æ‡§∞‡§§ ‡§ï‡•Ä ‡§ñ‡•á‡§§-‡§∏‡•á-‡§Æ‡§Ç‡§°‡•Ä ‡§¨‡•Å‡§¶‡•ç‡§ß‡§ø‡§Æ‡§§‡•ç‡§§‡§æ ‡§ï‡•Ä ‡§ï‡§Æ‡•Ä ‡§ï‡•ã ‡§π‡§≤ ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§¨‡§®‡§æ‡§Ø‡§æ ‡§ó‡§Ø‡§æ',
    'about-h3': '‡§ú‡•ã ‡§∏‡§Æ‡§∏‡•ç‡§Ø‡§æ ‡§π‡§Æ ‡§π‡§≤ ‡§ï‡§∞ ‡§∞‡§π‡•á ‡§π‡•à‡§Ç',
    'about-p1': '‡§≠‡§æ‡§∞‡§§ ‡§ï‡•á ‡§ï‡§ø‡§∏‡§æ‡§® <strong>40% ‡§â‡§™‡§ú</strong> ‡§§‡§ï ‡§ñ‡•ã‡§§‡•á ‡§π‡•à‡§Ç ‚Äî ‡§ñ‡§∞‡§æ‡§¨ ‡§ñ‡•á‡§§‡•Ä ‡§∏‡•á ‡§®‡§π‡•Ä‡§Ç ‡§¨‡§≤‡•ç‡§ï‡§ø ‡§ó‡§≤‡§§ ‡§∏‡§Æ‡§Ø ‡§î‡§∞ ‡§¨‡§æ‡§ú‡§æ‡§∞ ‡§ï‡•Ä ‡§ó‡§≤‡§§ ‡§∏‡§Æ‡§ù ‡§∏‡•á‡•§ ‡§®‡§æ‡§∏‡§ø‡§ï ‡§ï‡§æ ‡§è‡§ï ‡§ï‡§ø‡§∏‡§æ‡§® ‡§â‡§∏‡•Ä ‡§¶‡§ø‡§® ‡§ü‡§Æ‡§æ‡§ü‡§∞ ‡§ï‡§æ‡§ü ‡§∏‡§ï‡§§‡§æ ‡§π‡•à ‡§ú‡§¨ 200 ‡§Ö‡§®‡•ç‡§Ø ‡§ï‡§∞‡§§‡•á ‡§π‡•à‡§Ç, ‡§ú‡§ø‡§∏‡§∏‡•á ‡§Æ‡§Ç‡§°‡•Ä ‡§≠‡§æ‡§µ ‡§ó‡§ø‡§∞ ‡§ú‡§æ‡§§‡§æ ‡§π‡•à‡•§',
    'about-p2': '‡§ï‡§ø‡§∏‡§æ‡§®‡§Æ‡§ø‡§§‡•ç‡§∞ ‡§Ö‡§∏‡§≤‡•Ä ‡§Æ‡•å‡§∏‡§Æ ‡§°‡•á‡§ü‡§æ, ‡§Æ‡§ø‡§ü‡•ç‡§ü‡•Ä ‡§∏‡•ç‡§µ‡§æ‡§∏‡•ç‡§•‡•ç‡§Ø ‡§∏‡§Ç‡§ï‡•á‡§§‡§ï ‡§î‡§∞ ‡§≤‡§æ‡§á‡§µ ‡§Æ‡§Ç‡§°‡•Ä ‡§≠‡§æ‡§µ ‡§á‡§§‡§ø‡§π‡§æ‡§∏ ‡§ï‡•ã ‡§Æ‡§ø‡§≤‡§æ‡§ï‡§∞ <strong>‡§∏‡§∞‡•ç‡§µ‡•ã‡§§‡•ç‡§§‡§Æ ‡§ï‡§ü‡§æ‡§à ‡§µ‡§ø‡§Ç‡§°‡•ã</strong> ‡§î‡§∞ <strong>‡§∏‡§¨‡§∏‡•á ‡§Ö‡§ö‡•ç‡§õ‡§æ ‡§≤‡§ï‡•ç‡§∑‡•ç‡§Ø ‡§¨‡§æ‡§ú‡§æ‡§∞</strong> ‡§∏‡•Å‡§ù‡§æ‡§§‡§æ ‡§π‡•à‡•§',
    'about-p3': '‡§π‡§∞ ‡§∏‡§ø‡§´‡§æ‡§∞‡§ø‡§∂ ‡§∏‡§∞‡§≤ ‡§≠‡§æ‡§∑‡§æ ‡§Æ‡•á‡§Ç ‡§∏‡§Æ‡§ù‡§æ‡§à ‡§ú‡§æ‡§§‡•Ä ‡§π‡•à ‚Äî ‡§ï‡•ç‡§Ø‡•ã‡§Ç‡§ï‡§ø ‡§ï‡§ø‡§∏‡§æ‡§® ‡§ï‡•ã ‡§ï‡•ã‡§à ‡§≠‡•Ä ‡§∏‡§≤‡§æ‡§π ‡§§‡§¨ ‡§π‡•Ä ‡§Æ‡§æ‡§®‡§®‡§æ ‡§ö‡§æ‡§π‡§ø‡§è ‡§ú‡§¨ ‡§â‡§∏‡•á ‡§â‡§∏ ‡§™‡§∞ ‡§≠‡§∞‡•ã‡§∏‡§æ ‡§π‡•ã‡•§',
    'ab-1-h': '‡§Æ‡•å‡§∏‡§Æ ‡§¨‡•Å‡§¶‡•ç‡§ß‡§ø‡§Æ‡§§‡•ç‡§§‡§æ', 'ab-1-p': '7-‡§¶‡§ø‡§® IMD ‡§Ü‡§ß‡§æ‡§∞‡§ø‡§§ ‡§™‡•Ç‡§∞‡•ç‡§µ‡§æ‡§®‡•Å‡§Æ‡§æ‡§® ‡§π‡§∞ ‡§ï‡§ü‡§æ‡§à ‡§∏‡§ø‡§´‡§æ‡§∞‡§ø‡§∂ ‡§Æ‡•á‡§Ç ‡§∂‡§æ‡§Æ‡§ø‡§≤‡•§',
    'ab-2-h': '‡§Ö‡§∏‡§≤‡•Ä ‡§Æ‡§Ç‡§°‡•Ä ‡§°‡•á‡§ü‡§æ', 'ab-2-p': 'AGMARKNET ‡§∏‡•á 500+ ‡§Æ‡§Ç‡§°‡§ø‡§Ø‡•ã‡§Ç ‡§ï‡§æ ‡§≠‡§æ‡§µ ‡§°‡•á‡§ü‡§æ, ‡§∞‡•ã‡§ú‡§º‡§æ‡§®‡§æ ‡§Ö‡§™‡§°‡•á‡§ü‡•§',
    'ab-3-h': '‡§Æ‡§ø‡§ü‡•ç‡§ü‡•Ä ‡§∏‡•ç‡§µ‡§æ‡§∏‡•ç‡§•‡•ç‡§Ø ‡§ú‡§æ‡§ó‡§∞‡•Ç‡§ï', 'ab-3-p': '‡§Æ‡§ø‡§ü‡•ç‡§ü‡•Ä ‡§ï‡•Ä ‡§®‡§Æ‡•Ä ‡§î‡§∞ ‡§™‡•ã‡§∑‡§ï ‡§§‡§§‡•ç‡§µ ‡§°‡•á‡§ü‡§æ ‡§∏‡•á ‡§´‡§∏‡§≤ ‡§™‡§∞‡§ø‡§™‡§ï‡•ç‡§µ‡§§‡§æ ‡§µ‡§ø‡§Ç‡§°‡•ã‡•§',
    'ab-4-h': '‡§ï‡§ø‡§∏‡§æ‡§®‡•ã‡§Ç ‡§ï‡•á ‡§≤‡§ø‡§è ‡§¨‡§®‡§æ', 'ab-4-p': '‡§∏‡§∞‡§≤ ‡§≠‡§æ‡§∑‡§æ, ‡§π‡§ø‡§Ç‡§¶‡•Ä ‡§∏‡§Æ‡§∞‡•ç‡§•‡§® ‚Äî ‡§è‡§ï ‡§¨‡•á‡§∏‡§ø‡§ï Android ‡§´‡•ã‡§® ‡§™‡§∞ ‡§ï‡§æ‡§Æ ‡§ï‡§∞‡§§‡§æ ‡§π‡•à‡•§',
    'mission-h': '‡§π‡§Æ‡§æ‡§∞‡§æ ‡§Æ‡§ø‡§∂‡§®',
    'mission-p': '‡§§‡§ï‡§®‡•Ä‡§ï ‡§ï‡§ø‡§∏‡§æ‡§® <em>‡§ï‡•á ‡§≤‡§ø‡§è</em> ‡§ï‡§æ‡§Æ ‡§ï‡§∞‡§®‡•Ä ‡§ö‡§æ‡§π‡§ø‡§è, ‡§® ‡§ï‡§ø ‡§â‡§≤‡•ç‡§ü‡§æ‡•§ ‡§π‡§Æ ‡§π‡§∞ ‡§´‡•Ä‡§ö‡§∞ ‡§ï‡•ã ‡§Ø‡§π ‡§∏‡•ã‡§ö‡§ï‡§∞ ‡§¨‡§®‡§æ‡§§‡•á ‡§π‡•à‡§Ç: <em>"‡§ï‡•ç‡§Ø‡§æ ‡§è‡§ï ‡§¨‡•á‡§∏‡§ø‡§ï Android ‡§´‡•ã‡§® ‡§µ‡§æ‡§≤‡§æ ‡§ï‡§ø‡§∏‡§æ‡§® ‡§á‡§∏‡•á ‡§∏‡§Æ‡§ù ‡§î‡§∞ ‡§≠‡§∞‡•ã‡§∏‡§æ ‡§ï‡§∞ ‡§∏‡§ï‡§§‡§æ ‡§π‡•à?"</em>',
    'team-1-h': 'AI/ML ‡§ü‡•Ä‡§Æ', 'team-1-p': '‡§ï‡§ü‡§æ‡§à ‡§î‡§∞ ‡§≠‡§æ‡§µ ‡§Æ‡•â‡§°‡§≤',
    'team-2-h': '‡§°‡•á‡§ü‡§æ ‡§ü‡•Ä‡§Æ', 'team-2-p': '‡§Æ‡§Ç‡§°‡•Ä ‡§î‡§∞ ‡§Æ‡•å‡§∏‡§Æ ‡§™‡§æ‡§á‡§™‡§≤‡§æ‡§á‡§®',
    'team-3-h': '‡§°‡§ø‡§ú‡§º‡§æ‡§á‡§® ‡§ü‡•Ä‡§Æ', 'team-3-p': '‡§ï‡§ø‡§∏‡§æ‡§®-‡§™‡§π‡§≤‡•á UX',
    'team-4-h': '‡§ï‡•É‡§∑‡§ø ‡§∏‡§≤‡§æ‡§π‡§ï‡§æ‡§∞', 'team-4-p': '‡§ï‡•ç‡§∑‡•á‡§§‡•ç‡§∞ ‡§∏‡§§‡•ç‡§Ø‡§æ‡§™‡§®',
    // Schemes
    'sec-schemes': '‡§∏‡§∞‡§ï‡§æ‡§∞‡•Ä ‡§ï‡§ø‡§∏‡§æ‡§® ‡§Ø‡•ã‡§ú‡§®‡§æ‡§è‡§Ç',
    'sec-schemes-sub': '‡§ï‡•á‡§Ç‡§¶‡•ç‡§∞ ‡§î‡§∞ ‡§∞‡§æ‡§ú‡•ç‡§Ø ‡§Ø‡•ã‡§ú‡§®‡§æ‡§è‡§Ç ‡§ú‡§ø‡§®‡§ï‡•á ‡§Ü‡§™ ‡§™‡§æ‡§§‡•ç‡§∞ ‡§π‡•ã ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç ‚Äî 2024-25 ‡§Ö‡§™‡§°‡•á‡§ü',
    'flt-all': '‡§∏‡§≠‡•Ä ‡§Ø‡•ã‡§ú‡§®‡§æ‡§è‡§Ç', 'flt-central': '‡§ï‡•á‡§Ç‡§¶‡•ç‡§∞ ‡§∏‡§∞‡§ï‡§æ‡§∞', 'flt-state': '‡§∞‡§æ‡§ú‡•ç‡§Ø ‡§∏‡§∞‡§ï‡§æ‡§∞', 'flt-credit': '‡§ã‡§£ ‡§î‡§∞ ‡§¨‡•Ä‡§Æ‡§æ',
    // Footer
    'f-sub': '‡§∏‡•ç‡§Æ‡§æ‡§∞‡•ç‡§ü ‡§ñ‡•á‡§§‡•Ä ‡§Æ‡§Ç‡§ö ‚Äî ‡§ñ‡•á‡§§-‡§∏‡•á-‡§Æ‡§Ç‡§°‡•Ä ‡§¨‡•Å‡§¶‡•ç‡§ß‡§ø‡§Æ‡§§‡•ç‡§§‡§æ',
    'f-copy': '¬© 2025 ‡§ï‡§ø‡§∏‡§æ‡§®‡§Æ‡§ø‡§§‡•ç‡§∞‡•§ ‡§≠‡§æ‡§∞‡§§‡•Ä‡§Ø ‡§ï‡§ø‡§∏‡§æ‡§®‡•ã‡§Ç ‡§ï‡•á ‡§≤‡§ø‡§è ‚ù§Ô∏è ‡§∏‡•á ‡§¨‡§®‡§æ‡§Ø‡§æ ‡§ó‡§Ø‡§æ‡•§ | ‡§°‡•á‡§ü‡§æ: AGMARKNET, IMD | ‡§¨‡•à‡§ï‡§è‡§Ç‡§°: AgriChain API',
    // Loading
    'load-title': '‡§Ü‡§™‡§ï‡•Ä ‡§´‡§∏‡§≤ ‡§ï‡§æ ‡§µ‡§ø‡§∂‡•ç‡§≤‡•á‡§∑‡§£ ‡§π‡•ã ‡§∞‡§π‡§æ ‡§π‡•à‚Ä¶',
    'load-sub': '‡§ï‡§à ‡§∏‡•ç‡§∞‡•ã‡§§‡•ã‡§Ç ‡§∏‡•á ‡§∞‡§ø‡§Ø‡§≤-‡§ü‡§æ‡§á‡§Æ ‡§°‡•á‡§ü‡§æ ‡§≤‡§æ‡§Ø‡§æ ‡§ú‡§æ ‡§∞‡§π‡§æ ‡§π‡•à',
    'ls1': '‡§Æ‡•å‡§∏‡§Æ ‡§™‡•Ç‡§∞‡•ç‡§µ‡§æ‡§®‡•Å‡§Æ‡§æ‡§® ‡§≤‡§æ ‡§∞‡§π‡•á ‡§π‡•à‡§Ç (7 ‡§¶‡§ø‡§®)', 'ls2': '‡§Æ‡§ø‡§ü‡•ç‡§ü‡•Ä ‡§∏‡•ç‡§µ‡§æ‡§∏‡•ç‡§•‡•ç‡§Ø ‡§∏‡§Ç‡§ï‡•á‡§§‡§ï ‡§™‡§¢‡§º ‡§∞‡§π‡•á ‡§π‡•à‡§Ç',
    'ls3': '‡§Æ‡§Ç‡§°‡•Ä ‡§≠‡§æ‡§µ ‡§á‡§§‡§ø‡§π‡§æ‡§∏ ‡§∏‡•ç‡§ï‡•à‡§® ‡§ï‡§∞ ‡§∞‡§π‡•á ‡§π‡•à‡§Ç (90 ‡§¶‡§ø‡§®)', 'ls4': '‡§∏‡§∞‡•ç‡§µ‡•ã‡§§‡•ç‡§§‡§Æ ‡§ï‡§ü‡§æ‡§à ‡§µ‡§ø‡§Ç‡§°‡•ã ‡§ó‡§£‡§®‡§æ ‡§ï‡§∞ ‡§∞‡§π‡•á ‡§π‡•à‡§Ç',
    'ls5': '‡§ñ‡§∞‡§æ‡§¨‡•Ä ‡§ú‡•ã‡§ñ‡§ø‡§Æ ‡§î‡§∞ ‡§≠‡§Ç‡§°‡§æ‡§∞‡§£ ‡§Ü‡§Ç‡§ï ‡§∞‡§π‡•á ‡§π‡•à‡§Ç', 'ls6': '‡§∂‡•Å‡§¶‡•ç‡§ß ‡§≤‡§æ‡§≠ ‡§∏‡•á ‡§∏‡§¨‡§∏‡•á ‡§Ö‡§ö‡•ç‡§õ‡•Ä ‡§Æ‡§Ç‡§°‡§ø‡§Ø‡§æ‡§Ç ‡§ï‡•ç‡§∞‡§Æ‡§¨‡§¶‡•ç‡§ß ‡§ï‡§∞ ‡§∞‡§π‡•á ‡§π‡•à‡§Ç',
    // Chat
    'chat-sub': 'Claude ‡§¶‡•ç‡§µ‡§æ‡§∞‡§æ ¬∑ ‡§Ü‡§™‡§ï‡§æ ‡§´‡§∏‡§≤ ‡§∏‡§≤‡§æ‡§π‡§ï‡§æ‡§∞',
    'chat-online': '‡§ë‡§®‡§≤‡§æ‡§á‡§®',
    'chat-placeholder': '‡§ñ‡•á‡§§‡•Ä ‡§ï‡•á ‡§¨‡§æ‡§∞‡•á ‡§Æ‡•á‡§Ç ‡§ï‡•Å‡§õ ‡§≠‡•Ä ‡§™‡•Ç‡§õ‡•á‡§Ç‚Ä¶',
    'chat-powered': 'Claude (Anthropic) ‡§¶‡•ç‡§µ‡§æ‡§∞‡§æ ‡§∏‡§Ç‡§ö‡§æ‡§≤‡§ø‡§§',
    'fab-label': '‡§Ö‡§®‡•ç‡§®‡§¶‡§æ‡§§‡§æ AI',
    'chat-welcome': 'üôè <strong>‡§®‡§Æ‡§∏‡•ç‡§§‡•á!</strong> ‡§Æ‡•à‡§Ç <strong>‡§Ö‡§®‡•ç‡§®‡§¶‡§æ‡§§‡§æ AI</strong> ‡§π‡•Ç‡§Ç ‚Äî Claude ‡§¶‡•ç‡§µ‡§æ‡§∞‡§æ ‡§∏‡§Ç‡§ö‡§æ‡§≤‡§ø‡§§ ‡§Ü‡§™‡§ï‡§æ ‡§µ‡•ç‡§Ø‡§ï‡•ç‡§§‡§ø‡§ó‡§§ ‡§ñ‡•á‡§§‡•Ä ‡§∏‡§π‡§æ‡§Ø‡§ï‡•§<br><br>‡§´‡§∏‡§≤, ‡§Æ‡§Ç‡§°‡•Ä ‡§≠‡§æ‡§µ, ‡§ï‡§ü‡§æ‡§à ‡§ï‡§æ ‡§∏‡§π‡•Ä ‡§∏‡§Æ‡§Ø, ‡§∏‡§∞‡§ï‡§æ‡§∞‡•Ä ‡§Ø‡•ã‡§ú‡§®‡§æ‡§è‡§Ç, ‡§Ø‡§æ ‡§Æ‡§ø‡§ü‡•ç‡§ü‡•Ä ‡§∏‡•ç‡§µ‡§æ‡§∏‡•ç‡§•‡•ç‡§Ø ‚Äî ‡§ï‡•Å‡§õ ‡§≠‡•Ä ‡§™‡•Ç‡§õ‡•á‡§Ç! üåæ',
    'qbtn-1': '‡§ü‡§Æ‡§æ‡§ü‡§∞ ‡§ï‡•á ‡§≠‡§æ‡§µ', 'qbtn-2': 'PM ‡§ï‡§ø‡§∏‡§æ‡§®', 'qbtn-3': '‡§ñ‡§∞‡§æ‡§¨‡•Ä ‡§∞‡•ã‡§ï‡•á‡§Ç', 'qbtn-4': '‡§ó‡•á‡§π‡•Ç‡§Ç ‡§ï‡§ü‡§æ‡§à',
  }
};

let currentLang = 'en';

function setLang(lang, btn) {
  document.querySelectorAll('.lang-btn').forEach(b => b.classList.remove('active'));
  btn.classList.add('active');
  currentLang = lang;
  applyTranslations(lang);
}

function applyTranslations(lang) {
  const T = TRANSLATIONS[lang];
  if (!T) return;

  // Helper: set innerHTML of first match
  function set(sel, key) {
    const el = document.querySelector(sel);
    if (el && T[key] !== undefined) el.innerHTML = T[key];
  }
  function setAll(sel, key) {
    document.querySelectorAll(sel).forEach(el => { if (T[key] !== undefined) el.innerHTML = T[key]; });
  }
  function setAttr(sel, attr, key) {
    const el = document.querySelector(sel);
    if (el && T[key] !== undefined) el.setAttribute(attr, T[key]);
  }

  // Navbar
  set('.nav-brand-sub', 'nav-sub');
  const navBtns = document.querySelectorAll('.nav-link');
  if (navBtns[0]) navBtns[0].innerHTML = navBtns[0].innerHTML.replace(/>[^<]*$/, `>${T['nav-home']}`);
  if (navBtns[1]) navBtns[1].innerHTML = navBtns[1].innerHTML.replace(/>[^<]*$/, `>${T['nav-analyzer']}`);
  if (navBtns[2]) navBtns[2].innerHTML = navBtns[2].innerHTML.replace(/>[^<]*$/, `>${T['nav-about']}`);
  if (navBtns[3]) navBtns[3].innerHTML = navBtns[3].innerHTML.replace(/>[^<]*$/, `>${T['nav-schemes']}`);
  const navCta = document.querySelector('.nav-cta');
  if (navCta) { const svg = navCta.querySelector('svg'); navCta.innerHTML = ''; if(svg)navCta.appendChild(svg); navCta.appendChild(document.createTextNode(T['nav-cta'])); }

  // Hero
  set('.hero-badge span', 'hero-badge-txt');
  set('.hero-h1', 'hero-h1');
  set('.hero-p', 'hero-p');
  const heroBtns = document.querySelectorAll('.hero-btns button');
  if (heroBtns[0]) { const sv = heroBtns[0].querySelector('svg'); heroBtns[0].innerHTML=''; if(sv)heroBtns[0].appendChild(sv); heroBtns[0].appendChild(document.createTextNode(T['btn-analysis'])); }
  if (heroBtns[1]) { const sv = heroBtns[1].querySelector('svg'); heroBtns[1].innerHTML=''; if(sv)heroBtns[1].appendChild(sv); heroBtns[1].appendChild(document.createTextNode(T['btn-schemes'])); }
  const statLbls = document.querySelectorAll('.stat-lbl');
  ['stat-1','stat-2','stat-3'].forEach((k,i) => { if(statLbls[i]) statLbls[i].textContent = T[k]; });
  const pills = document.querySelectorAll('.hero-pill');
  ['pill-1','pill-2','pill-3','pill-4'].forEach((k,i) => {
    if (pills[i]) { const sv = pills[i].querySelector('svg'); pills[i].innerHTML=''; if(sv)pills[i].appendChild(sv); pills[i].appendChild(document.createTextNode(' '+T[k])); }
  });
  const featCards = document.querySelectorAll('.feat-card');
  [['feat-1-h','feat-1-p'],['feat-2-h','feat-2-p'],['feat-3-h','feat-3-p'],['feat-4-h','feat-4-p']].forEach(([hk,pk],i) => {
    if (featCards[i]) {
      const h = featCards[i].querySelector('h4'); const p = featCards[i].querySelector('p');
      if(h) h.textContent = T[hk]; if(p) p.textContent = T[pk];
    }
  });

  // Analyzer section
  const analyzerSec = document.querySelector('#analyzer .sec-title');
  if (analyzerSec) { const sv = analyzerSec.querySelector('svg'); analyzerSec.innerHTML=''; if(sv)analyzerSec.appendChild(sv); analyzerSec.appendChild(document.createTextNode(' '+T['sec-analyzer'])); }
  set('#analyzer .sec-sub', 'sec-analyzer-sub');
  set('.card-title', 'card-title'); set('.card-sub', 'card-sub');

  // Form labels (text nodes after SVG)
  const labels = document.querySelectorAll('.form-group label');
  const labelKeys = ['lbl-crop','lbl-state','lbl-district','lbl-stage','lbl-storage','lbl-land'];
  labels.forEach((lbl, i) => {
    if (labelKeys[i] && T[labelKeys[i]]) {
      const sv = lbl.querySelector('svg');
      lbl.innerHTML = '';
      if (sv) lbl.appendChild(sv);
      lbl.appendChild(document.createTextNode(T[labelKeys[i]]));
    }
  });

  // Select options
  const stageEl = document.getElementById('harvestStage');
  if (stageEl) {
    const stages = ['stage-15','stage-7','stage-now','stage-late'];
    Array.from(stageEl.options).forEach((opt,i) => { if(T[stages[i]]) opt.text = T[stages[i]]; });
  }
  const storageEl = document.getElementById('storage');
  if (storageEl) {
    const stores = ['storage-none','storage-wh','storage-cold','storage-home'];
    Array.from(storageEl.options).forEach((opt,i) => { if(T[stores[i]]) opt.text = T[stores[i]]; });
  }

  // Analyze button
  const anaBtn = document.querySelector('.analyze-btn');
  if (anaBtn) { const sv = anaBtn.querySelector('svg'); anaBtn.innerHTML=''; if(sv)anaBtn.appendChild(sv); anaBtn.appendChild(document.createTextNode(' '+T['btn-analyze'])); }

  // KPI labels
  const kpiLbls = document.querySelectorAll('.kpi-lbl');
  if (kpiLbls[0]) { const sv = kpiLbls[0].querySelector('svg'); kpiLbls[0].innerHTML=''; if(sv)kpiLbls[0].appendChild(sv); kpiLbls[0].appendChild(document.createTextNode(T['kpi-harvest'])); }
  if (kpiLbls[1]) { const sv = kpiLbls[1].querySelector('svg'); kpiLbls[1].innerHTML=''; if(sv)kpiLbls[1].appendChild(sv); kpiLbls[1].appendChild(document.createTextNode(T['kpi-spoilage'])); }

  // Module headers
  const modHdrs = document.querySelectorAll('.mod-hdr-t');
  [['mod-harvest-h','mod-harvest-p'],['mod-mkt-h','mod-mkt-p'],['mod-spoil-h','mod-spoil-p'],['mod-act-h','mod-act-p']].forEach(([hk,pk],i) => {
    if (modHdrs[i]) {
      const h = modHdrs[i].querySelector('h3'); const p = modHdrs[i].querySelector('p');
      if(h) h.textContent = T[hk]; if(p) p.textContent = T[pk];
    }
  });

  // Timeline labels
  const tlToday = document.querySelector('.tl-labels span:first-child');
  if (tlToday) tlToday.textContent = T['tl-today'];
  const tlBest = document.getElementById('tl3');
  if (tlBest) tlBest.textContent = T['tl-best'];

  // Market table headers
  const mktThs = document.querySelectorAll('.mkt-tbl th');
  ['mkt-col-1','mkt-col-2','mkt-col-3','mkt-col-4'].forEach((k,i) => { if(mktThs[i]) mktThs[i].textContent = T[k]; });

  // Gauge "risk" label
  const gaugeP = document.querySelector('.gauge-p');
  if (gaugeP) gaugeP.textContent = T['gauge-risk'];

  // Why panel
  const whyTitle = document.querySelector('.why-card span[style*="Playfair"]');
  if (whyTitle) whyTitle.textContent = T['why-title'];
  const whySub = document.querySelector('.why-card div[style*="rgba(255,255,255,0.45)"]');
  if (whySub) whySub.textContent = T['why-sub'];

  // About section
  const aboutSec = document.querySelector('#about .sec-title');
  if (aboutSec) { const sv = aboutSec.querySelector('svg'); aboutSec.innerHTML=''; if(sv)aboutSec.appendChild(sv); aboutSec.appendChild(document.createTextNode(' '+T['sec-about'])); }
  set('#about .sec-sub', 'sec-about-sub');
  set('.about-txt h3', 'about-h3');
  const aboutPs = document.querySelectorAll('.about-txt p');
  ['about-p1','about-p2','about-p3'].forEach((k,i) => { if(aboutPs[i]) aboutPs[i].innerHTML = T[k]; });
  const abCards = document.querySelectorAll('.ab-card');
  [['ab-1-h','ab-1-p'],['ab-2-h','ab-2-p'],['ab-3-h','ab-3-p'],['ab-4-h','ab-4-p']].forEach(([hk,pk],i) => {
    if (abCards[i]) {
      const h = abCards[i].querySelector('h4'); const p = abCards[i].querySelector('p');
      if(h) h.textContent = T[hk]; if(p) p.textContent = T[pk];
    }
  });
  set('.mission-strip h3', 'mission-h');
  set('.mission-strip > p', 'mission-p');
  const teamCs = document.querySelectorAll('.team-c');
  [['team-1-h','team-1-p'],['team-2-h','team-2-p'],['team-3-h','team-3-p'],['team-4-h','team-4-p']].forEach(([hk,pk],i) => {
    if (teamCs[i]) {
      const h = teamCs[i].querySelector('h4'); const p = teamCs[i].querySelector('p');
      if(h) h.textContent = T[hk]; if(p) p.textContent = T[pk];
    }
  });

  // Schemes section
  const schemesSec = document.querySelector('#schemes .sec-title');
  if (schemesSec) { const sv = schemesSec.querySelector('svg'); schemesSec.innerHTML=''; if(sv)schemesSec.appendChild(sv); schemesSec.appendChild(document.createTextNode(' '+T['sec-schemes'])); }
  set('#schemes .sec-sub', 'sec-schemes-sub');
  const fBtns = document.querySelectorAll('.fbtn');
  ['flt-all','flt-central','flt-state','flt-credit'].forEach((k,i) => {
    if (fBtns[i]) { const sv = fBtns[i].querySelector('svg'); fBtns[i].innerHTML=''; if(sv)fBtns[i].appendChild(sv); fBtns[i].appendChild(document.createTextNode(T[k])); }
  });
  // Re-render schemes with current filter in new language
  renderSchemes(currentSchemeFilter);

  // Footer
  set('.f-sub', 'f-sub');
  set('.f-copy', 'f-copy');

  // Loading overlay
  const loadTitle = document.querySelector('.loading-box h3');
  if (loadTitle) loadTitle.textContent = T['load-title'];
  const loadSub = document.querySelector('.loading-box p');
  if (loadSub) loadSub.textContent = T['load-sub'];
  ['ls1','ls2','ls3','ls4','ls5','ls6'].forEach(id => {
    const el = document.getElementById(id);
    if (el) { const cls = el.className; el.textContent = T[id]; el.className = cls; }
  });

  // Chat UI
  set('.chat-hdr-t p', 'chat-sub');
  set('.chat-status-txt', 'chat-online');
  setAttr('#chatInp', 'placeholder', 'chat-placeholder');
  set('.chat-powered', 'chat-powered');
  set('.fab-label', 'fab-label');
  // Quick buttons
  const qbtns = document.querySelectorAll('.qbtn');
  ['qbtn-1','qbtn-2','qbtn-3','qbtn-4'].forEach((k,i) => {
    if (qbtns[i]) { const sv = qbtns[i].querySelector('svg'); qbtns[i].innerHTML=''; if(sv)qbtns[i].appendChild(sv); qbtns[i].appendChild(document.createTextNode(T[k])); }
  });
  // Update quick ask queries to Hindi if Hindi selected
  if (qbtns[0]) qbtns[0].onclick = () => quickAsk(lang==='hi' ? '‡§Æ‡§π‡§æ‡§∞‡§æ‡§∑‡•ç‡§ü‡•ç‡§∞ ‡§Æ‡•á‡§Ç ‡§ü‡§Æ‡§æ‡§ü‡§∞ ‡§¨‡•á‡§ö‡§®‡•á ‡§ï‡§æ ‡§∏‡§¨‡§∏‡•á ‡§Ö‡§ö‡•ç‡§õ‡§æ ‡§∏‡§Æ‡§Ø ‡§ï‡•ç‡§Ø‡§æ ‡§π‡•à?' : 'Best time to sell tomatoes in Maharashtra?');
  if (qbtns[1]) qbtns[1].onclick = () => quickAsk(lang==='hi' ? 'PM ‡§ï‡§ø‡§∏‡§æ‡§® ‡§Ø‡•ã‡§ú‡§®‡§æ ‡§ï‡•Ä ‡§™‡§æ‡§§‡•ç‡§∞‡§§‡§æ ‡§¨‡§§‡§æ‡§è‡§Ç' : 'Tell me about PM Kisan scheme eligibility');
  if (qbtns[2]) qbtns[2].onclick = () => quickAsk(lang==='hi' ? '‡§∏‡§¨‡•ç‡§ú‡§ø‡§Ø‡•ã‡§Ç ‡§ï‡•Ä ‡§ï‡§ü‡§æ‡§à ‡§ï‡•á ‡§¨‡§æ‡§¶ ‡§ñ‡§∞‡§æ‡§¨‡•Ä ‡§ï‡§Æ ‡§ï‡•à‡§∏‡•á ‡§ï‡§∞‡•á‡§Ç?' : 'How to reduce post-harvest spoilage for vegetables?');
  if (qbtns[3]) qbtns[3].onclick = () => quickAsk(lang==='hi' ? '‡§™‡§Ç‡§ú‡§æ‡§¨ ‡§Æ‡•á‡§Ç ‡§ó‡•á‡§π‡•Ç‡§Ç ‡§ï‡§æ‡§ü‡§®‡•á ‡§ï‡§æ ‡§∏‡§¨‡§∏‡•á ‡§Ö‡§ö‡•ç‡§õ‡§æ ‡§∏‡§Æ‡§Ø ‡§ï‡§¨ ‡§π‡•à?' : 'When is the best time to harvest wheat in Punjab?');

  // Fab label full text
  const fabLbl = document.querySelector('.fab-label');
  if (fabLbl) {
    const sv = fabLbl.querySelector('svg');
    fabLbl.innerHTML = '';
    if (sv) fabLbl.appendChild(sv);
    fabLbl.appendChild(document.createTextNode(' ' + T['fab-label']));
  }
}

// ‚ïê‚ïê Schemes ‚ïê‚ïê
const SCHEMES=[
  {t:'central',n:'PM-KISAN',d:'Direct income support of ‚Çπ6,000/year to eligible farmer families in three equal installments of ‚Çπ2,000 each.',b:'‚Çπ6,000/year per family',tags:['All Farmers','Direct Benefit'],link:'https://pmkisan.gov.in'},
  {t:'credit', n:'Pradhan Mantri Fasal Bima Yojana (PMFBY)',d:'Crop insurance providing financial support for crop loss due to natural calamities, pests & diseases.',b:'Up to full sum insured on crop loss',tags:['Kharif','Rabi','Commercial'],link:'https://pmfby.gov.in'},
  {t:'credit', n:'Kisan Credit Card (KCC)',d:'Timely access to credit for agricultural needs at 4% effective interest rate. Includes personal accident cover of ‚Çπ50,000.',b:'Up to ‚Çπ3 lakh @ 4% interest',tags:['Credit','Insurance','Flexible'],link:'#'},
  {t:'central',n:'Paramparagat Krishi Vikas Yojana (PKVY)',d:'Promotes organic farming through cluster approach. Financial assistance for inputs, certification, and marketing over 3 years.',b:'‚Çπ50,000/hectare over 3 years',tags:['Organic','Cluster','Certification'],link:'#'},
  {t:'central',n:'Sub-Mission on Agricultural Mechanisation (SMAM)',d:'Subsidy on agricultural machinery. Up to 50% subsidy for small and marginal farmers on purchase of tractors, harvesters, and implements.',b:'Up to 50% machinery subsidy',tags:['Equipment','Machinery','Tractor'],link:'#'},
  {t:'central',n:'Soil Health Card Scheme',d:'Free soil testing for every farmer. Provides crop-wise recommendations for fertilizers and micronutrients to improve productivity.',b:'Free soil testing + nutrient card',tags:['Soil','Free','Nutrition'],link:'https://soilhealth.dac.gov.in'},
  {t:'state',  n:'State Disaster Relief Fund (SDRF)',d:'Compensation for crop loss from natural disasters ‚Äî drought, flood, hailstorm, pest attack. Rates vary by state and crop.',b:'‚Çπ8,500‚Äì13,500/hectare compensation',tags:['Disaster','Natural Calamity','Compensation'],link:'#'},
  {t:'central',n:'e-NAM (National Agriculture Market)',d:'Online trading platform connecting farmers to buyers across India. Better price discovery, reduced middlemen, transparent transactions.',b:'Direct access to 1,000+ mandis',tags:['Market','Digital','Price Discovery'],link:'https://enam.gov.in'},
  {t:'central',n:'mKisan Portal',d:'SMS-based advisory service for real-time crop advisory, pest/disease alerts, and market prices direct to farmers\' phones.',b:'Free SMS crop advisories',tags:['Mobile','Advisory','Free'],link:'https://mkisan.gov.in'},
];
const SI = {central:'<svg width="11" height="11" viewBox="0 0 24 24" fill="currentColor"><path d="M3 9l9-7 9 7v11a2 2 0 01-2 2H5a2 2 0 01-2-2z"/></svg>',state:'<svg width="11" height="11" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/></svg>',credit:'<svg width="11" height="11" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="1" y="4" width="22" height="16" rx="2"/><line x1="1" y1="10" x2="23" y2="10"/></svg>'};

const SCHEMES_HI = [
  {t:'central',n:'‡§™‡•Ä‡§è‡§Æ-‡§ï‡§ø‡§∏‡§æ‡§®',d:'‡§™‡§æ‡§§‡•ç‡§∞ ‡§ï‡§ø‡§∏‡§æ‡§® ‡§™‡§∞‡§ø‡§µ‡§æ‡§∞‡•ã‡§Ç ‡§ï‡•ã ‚Çπ6,000/‡§µ‡§∞‡•ç‡§∑ ‡§∏‡•Ä‡§ß‡•á ‡§¨‡•à‡§Ç‡§ï ‡§Æ‡•á‡§Ç ‚Äî ‚Çπ2,000 ‡§ï‡•Ä ‡§§‡•Ä‡§® ‡§¨‡§∞‡§æ‡§¨‡§∞ ‡§ï‡§ø‡§∏‡•ç‡§§‡•ã‡§Ç ‡§Æ‡•á‡§Ç‡•§',b:'‚Çπ6,000/‡§µ‡§∞‡•ç‡§∑ ‡§™‡•ç‡§∞‡§§‡§ø ‡§™‡§∞‡§ø‡§µ‡§æ‡§∞',tags:['‡§∏‡§≠‡•Ä ‡§ï‡§ø‡§∏‡§æ‡§®','‡§∏‡•Ä‡§ß‡§æ ‡§≤‡§æ‡§≠'],link:'https://pmkisan.gov.in'},
  {t:'credit', n:'‡§™‡•ç‡§∞‡§ß‡§æ‡§®‡§Æ‡§Ç‡§§‡•ç‡§∞‡•Ä ‡§´‡§∏‡§≤ ‡§¨‡•Ä‡§Æ‡§æ ‡§Ø‡•ã‡§ú‡§®‡§æ (PMFBY)',d:'‡§™‡•ç‡§∞‡§æ‡§ï‡•É‡§§‡§ø‡§ï ‡§Ü‡§™‡§¶‡§æ, ‡§ï‡•Ä‡§ü ‡§î‡§∞ ‡§¨‡•Ä‡§Æ‡§æ‡§∞‡•Ä ‡§∏‡•á ‡§´‡§∏‡§≤ ‡§®‡•Å‡§ï‡§∏‡§æ‡§® ‡§™‡§∞ ‡§µ‡§ø‡§§‡•ç‡§§‡•Ä‡§Ø ‡§∏‡§π‡§æ‡§Ø‡§§‡§æ‡•§ ‡§ï‡§ø‡§∏‡§æ‡§®‡•ã‡§Ç ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ï‡§Æ ‡§™‡•ç‡§∞‡•Ä‡§Æ‡§ø‡§Ø‡§Æ‡•§',b:'‡§´‡§∏‡§≤ ‡§®‡•Å‡§ï‡§∏‡§æ‡§® ‡§™‡§∞ ‡§™‡•Ç‡§∞‡§æ ‡§¨‡•Ä‡§Æ‡§æ',tags:['‡§ñ‡§∞‡•Ä‡§´','‡§∞‡§¨‡•Ä','‡§µ‡•ç‡§Ø‡§æ‡§µ‡§∏‡§æ‡§Ø‡§ø‡§ï'],link:'https://pmfby.gov.in'},
  {t:'credit', n:'‡§ï‡§ø‡§∏‡§æ‡§® ‡§ï‡•ç‡§∞‡•á‡§°‡§ø‡§ü ‡§ï‡§æ‡§∞‡•ç‡§° (KCC)',d:'4% ‡§™‡•ç‡§∞‡§≠‡§æ‡§µ‡•Ä ‡§¨‡•ç‡§Ø‡§æ‡§ú ‡§¶‡§∞ ‡§™‡§∞ ‡§ï‡•É‡§∑‡§ø ‡§ã‡§£‡•§ ‚Çπ50,000 ‡§ï‡§æ ‡§µ‡•ç‡§Ø‡§ï‡•ç‡§§‡§ø‡§ó‡§§ ‡§¶‡•Å‡§∞‡•ç‡§ò‡§ü‡§®‡§æ ‡§¨‡•Ä‡§Æ‡§æ ‡§≠‡•Ä ‡§∂‡§æ‡§Æ‡§ø‡§≤‡•§',b:'‚Çπ3 ‡§≤‡§æ‡§ñ ‡§§‡§ï @ 4% ‡§¨‡•ç‡§Ø‡§æ‡§ú',tags:['‡§ã‡§£','‡§¨‡•Ä‡§Æ‡§æ','‡§≤‡§ö‡•Ä‡§≤‡§æ'],link:'#'},
  {t:'central',n:'‡§™‡§∞‡§Æ‡•ç‡§™‡§∞‡§æ‡§ó‡§§ ‡§ï‡•É‡§∑‡§ø ‡§µ‡§ø‡§ï‡§æ‡§∏ ‡§Ø‡•ã‡§ú‡§®‡§æ (PKVY)',d:'3 ‡§∏‡§æ‡§≤ ‡§Æ‡•á‡§Ç ‡§ú‡•à‡§µ‡§ø‡§ï ‡§ñ‡•á‡§§‡•Ä ‡§ï‡•ã ‡§¨‡§¢‡§º‡§æ‡§µ‡§æ‡•§ ‡§á‡§®‡§™‡•Å‡§ü, ‡§™‡•ç‡§∞‡§Æ‡§æ‡§£‡§® ‡§î‡§∞ ‡§µ‡§ø‡§™‡§£‡§® ‡§ï‡•á ‡§≤‡§ø‡§è ‡§µ‡§ø‡§§‡•ç‡§§‡•Ä‡§Ø ‡§∏‡§π‡§æ‡§Ø‡§§‡§æ‡•§',b:'‚Çπ50,000/‡§π‡•á‡§ï‡•ç‡§ü‡•á‡§Ø‡§∞ 3 ‡§µ‡§∞‡•ç‡§∑‡•ã‡§Ç ‡§Æ‡•á‡§Ç',tags:['‡§ú‡•à‡§µ‡§ø‡§ï','‡§ï‡•ç‡§≤‡§∏‡•ç‡§ü‡§∞','‡§™‡•ç‡§∞‡§Æ‡§æ‡§£‡§®'],link:'#'},
  {t:'central',n:'‡§ï‡•É‡§∑‡§ø ‡§Ø‡§Ç‡§§‡•ç‡§∞‡•Ä‡§ï‡§∞‡§£ ‡§â‡§™-‡§Æ‡§ø‡§∂‡§® (SMAM)',d:'‡§ï‡•É‡§∑‡§ø ‡§Æ‡§∂‡•Ä‡§®‡§∞‡•Ä ‡§™‡§∞ ‡§∏‡§¨‡•ç‡§∏‡§ø‡§°‡•Ä‡•§ ‡§õ‡•ã‡§ü‡•á ‡§î‡§∞ ‡§∏‡•Ä‡§Æ‡§æ‡§Ç‡§§ ‡§ï‡§ø‡§∏‡§æ‡§®‡•ã‡§Ç ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ü‡•ç‡§∞‡•à‡§ï‡•ç‡§ü‡§∞, ‡§π‡§æ‡§∞‡•ç‡§µ‡•á‡§∏‡•ç‡§ü‡§∞ ‡§™‡§∞ 50% ‡§§‡§ï ‡§∏‡§¨‡•ç‡§∏‡§ø‡§°‡•Ä‡•§',b:'50% ‡§§‡§ï ‡§Æ‡§∂‡•Ä‡§®‡§∞‡•Ä ‡§∏‡§¨‡•ç‡§∏‡§ø‡§°‡•Ä',tags:['‡§â‡§™‡§ï‡§∞‡§£','‡§Æ‡§∂‡•Ä‡§®‡§∞‡•Ä','‡§ü‡•ç‡§∞‡•à‡§ï‡•ç‡§ü‡§∞'],link:'#'},
  {t:'central',n:'‡§Æ‡•É‡§¶‡§æ ‡§∏‡•ç‡§µ‡§æ‡§∏‡•ç‡§•‡•ç‡§Ø ‡§ï‡§æ‡§∞‡•ç‡§° ‡§Ø‡•ã‡§ú‡§®‡§æ',d:'‡§π‡§∞ ‡§ï‡§ø‡§∏‡§æ‡§® ‡§ï‡•á ‡§≤‡§ø‡§è ‡§Æ‡•Å‡§´‡•ç‡§§ ‡§Æ‡§ø‡§ü‡•ç‡§ü‡•Ä ‡§™‡§∞‡•Ä‡§ï‡•ç‡§∑‡§£‡•§ ‡§´‡§∏‡§≤‡§µ‡§æ‡§∞ ‡§â‡§∞‡•ç‡§µ‡§∞‡§ï ‡§î‡§∞ ‡§∏‡•Ç‡§ï‡•ç‡§∑‡•ç‡§Æ ‡§™‡•ã‡§∑‡§ï ‡§§‡§§‡•ç‡§µ‡•ã‡§Ç ‡§ï‡•Ä ‡§∏‡§ø‡§´‡§æ‡§∞‡§ø‡§∂‡•§',b:'‡§Æ‡•Å‡§´‡•ç‡§§ ‡§Æ‡§ø‡§ü‡•ç‡§ü‡•Ä ‡§™‡§∞‡•Ä‡§ï‡•ç‡§∑‡§£ + ‡§™‡•ã‡§∑‡§ï ‡§ï‡§æ‡§∞‡•ç‡§°',tags:['‡§Æ‡§ø‡§ü‡•ç‡§ü‡•Ä','‡§Æ‡•Å‡§´‡•ç‡§§','‡§™‡•ã‡§∑‡§£'],link:'https://soilhealth.dac.gov.in'},
  {t:'state',  n:'‡§∞‡§æ‡§ú‡•ç‡§Ø ‡§Ü‡§™‡§¶‡§æ ‡§∞‡§æ‡§π‡§§ ‡§ï‡•ã‡§∑ (SDRF)',d:'‡§∏‡•Ç‡§ñ‡§æ, ‡§¨‡§æ‡§¢‡§º, ‡§ì‡§≤‡§æ‡§µ‡•É‡§∑‡•ç‡§ü‡§ø, ‡§ï‡•Ä‡§ü ‡§π‡§Æ‡§≤‡•á ‡§∏‡•á ‡§´‡§∏‡§≤ ‡§®‡•Å‡§ï‡§∏‡§æ‡§® ‡§ï‡§æ ‡§Æ‡•Å‡§Ü‡§µ‡§ú‡§æ‡•§ ‡§¶‡§∞‡•á‡§Ç ‡§∞‡§æ‡§ú‡•ç‡§Ø ‡§î‡§∞ ‡§´‡§∏‡§≤ ‡§ï‡•á ‡§Ö‡§®‡•Å‡§∏‡§æ‡§∞‡•§',b:'‚Çπ8,500‚Äì13,500/‡§π‡•á‡§ï‡•ç‡§ü‡•á‡§Ø‡§∞ ‡§Æ‡•Å‡§Ü‡§µ‡§ú‡§æ',tags:['‡§Ü‡§™‡§¶‡§æ','‡§™‡•ç‡§∞‡§æ‡§ï‡•É‡§§‡§ø‡§ï ‡§Ü‡§™‡§¶‡§æ','‡§Æ‡•Å‡§Ü‡§µ‡§ú‡§æ'],link:'#'},
  {t:'central',n:'e-NAM (‡§∞‡§æ‡§∑‡•ç‡§ü‡•ç‡§∞‡•Ä‡§Ø ‡§ï‡•É‡§∑‡§ø ‡§¨‡§æ‡§ú‡§æ‡§∞)',d:'‡§™‡•Ç‡§∞‡•á ‡§≠‡§æ‡§∞‡§§ ‡§Æ‡•á‡§Ç ‡§ï‡§ø‡§∏‡§æ‡§®‡•ã‡§Ç ‡§ï‡•ã ‡§ñ‡§∞‡•Ä‡§¶‡§æ‡§∞‡•ã‡§Ç ‡§∏‡•á ‡§ú‡•ã‡§°‡§º‡§®‡•á ‡§µ‡§æ‡§≤‡§æ ‡§ë‡§®‡§≤‡§æ‡§á‡§® ‡§µ‡•ç‡§Ø‡§æ‡§™‡§æ‡§∞ ‡§Æ‡§Ç‡§ö‡•§ ‡§¨‡•á‡§π‡§§‡§∞ ‡§Æ‡•Ç‡§≤‡•ç‡§Ø ‡§ñ‡•ã‡§ú, ‡§™‡§æ‡§∞‡§¶‡§∞‡•ç‡§∂‡•Ä ‡§≤‡•á‡§®‡§¶‡•á‡§®‡•§',b:'1,000+ ‡§Æ‡§Ç‡§°‡§ø‡§Ø‡•ã‡§Ç ‡§§‡§ï ‡§∏‡•Ä‡§ß‡•Ä ‡§™‡§π‡•Å‡§Ç‡§ö',tags:['‡§¨‡§æ‡§ú‡§æ‡§∞','‡§°‡§ø‡§ú‡§ø‡§ü‡§≤','‡§Æ‡•Ç‡§≤‡•ç‡§Ø ‡§ñ‡•ã‡§ú'],link:'https://enam.gov.in'},
  {t:'central',n:'mKisan ‡§™‡•ã‡§∞‡•ç‡§ü‡§≤',d:'SMS ‡§Ü‡§ß‡§æ‡§∞‡§ø‡§§ ‡§∏‡§≤‡§æ‡§π ‚Äî ‡§´‡§∏‡§≤, ‡§ï‡•Ä‡§ü/‡§¨‡•Ä‡§Æ‡§æ‡§∞‡•Ä ‡§Ö‡§≤‡§∞‡•ç‡§ü ‡§î‡§∞ ‡§¨‡§æ‡§ú‡§æ‡§∞ ‡§≠‡§æ‡§µ ‡§∏‡•Ä‡§ß‡•á ‡§´‡•ã‡§® ‡§™‡§∞‡•§',b:'‡§Æ‡•Å‡§´‡•ç‡§§ SMS ‡§´‡§∏‡§≤ ‡§∏‡§≤‡§æ‡§π',tags:['‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤','‡§∏‡§≤‡§æ‡§π','‡§Æ‡•Å‡§´‡•ç‡§§'],link:'https://mkisan.gov.in'},
];

let currentSchemeFilter = 'all';
function renderSchemes(f='all') {
  currentSchemeFilter = f;
  const g = document.getElementById('schemesGrid');
  const data = currentLang === 'hi' ? SCHEMES_HI : SCHEMES;
  const arr = f === 'all' ? data : data.filter(s => s.t === f);
  const labels = {
    central: currentLang==='hi' ? '‡§ï‡•á‡§Ç‡§¶‡•ç‡§∞ ‡§∏‡§∞‡§ï‡§æ‡§∞' : 'Central Govt',
    state:   currentLang==='hi' ? '‡§∞‡§æ‡§ú‡•ç‡§Ø ‡§∏‡§∞‡§ï‡§æ‡§∞' : 'State Govt',
    credit:  currentLang==='hi' ? '‡§ã‡§£ ‡§î‡§∞ ‡§¨‡•Ä‡§Æ‡§æ' : 'Credit & Insurance',
  };
  const learnMore = currentLang==='hi' ? '‡§Ö‡§ß‡§ø‡§ï ‡§ú‡§æ‡§®‡•á‡§Ç ‡§î‡§∞ ‡§Ü‡§µ‡•á‡§¶‡§® ‡§ï‡§∞‡•á‡§Ç' : 'Learn more & Apply';
  g.innerHTML = arr.map(s => `<div class="scheme-c" data-type="${s.t}">
    <div class="sch-badge ${s.t}">${SI[s.t]} ${labels[s.t]}</div>
    <h3>${s.n}</h3><p>${s.d}</p>
    <div class="sch-benefit"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><polyline points="20 6 9 17 4 12"/></svg>${s.b}</div>
    <div class="sch-tags">${s.tags.map(t=>`<span class="sch-tag">${t}</span>`).join('')}</div>
    <a class="sch-link" href="${s.link}" target="_blank">${learnMore} <svg width="11" height="11" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><line x1="5" y1="12" x2="19" y2="12"/><polyline points="12 5 19 12 12 19"/></svg></a>
  </div>`).join('');
}
function filterS(t, btn) { document.querySelectorAll('.fbtn').forEach(b => b.classList.remove('active')); btn.classList.add('active'); renderSchemes(t); }

// ‚ïê‚ïê Loading ‚ïê‚ïê
function startLoading(cb) {
  const ov = document.getElementById('loadingOverlay'); ov.classList.add('active');
  const steps = ['ls1','ls2','ls3','ls4','ls5','ls6'];
  steps.forEach(s => { const e = document.getElementById(s); e.classList.remove('active','done'); });
  document.getElementById('ls1').classList.add('active');
  let i = 0;
  function tick() {
    if (i > 0) { document.getElementById(steps[i-1]).classList.remove('active'); document.getElementById(steps[i-1]).classList.add('done'); }
    if (i < steps.length) { document.getElementById(steps[i]).classList.add('active'); i++; setTimeout(tick, 440 + Math.random()*300); }
    else { setTimeout(() => { ov.classList.remove('active'); if (cb) cb(); }, 280); }
  }
  tick();
}

// ‚ïê‚ïê Run Analysis ‚ïê‚ïê
async function runAnalysis() {
  const p = {
    crop_type: document.getElementById('cropType').value,
    state: document.getElementById('state').value,
    district: document.getElementById('district').value,
    harvest_stage: document.getElementById('harvestStage').value,
    storage_type: document.getElementById('storage').value,
    land_size: parseFloat(document.getElementById('landSize').value) || 2.5,
  };
  let d = null, err = null;
  const fp = fetch(`${API_BASE}/analyze`, {method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(p)})
    .then(r => { if (!r.ok) return r.json().then(e => { throw new Error(e.detail||'API error '+r.status) }); return r.json(); })
    .then(x => { d = x; }).catch(e => { err = e; });
  startLoading(async () => {
    await fp;
    if (err) { document.getElementById('loadingOverlay').classList.remove('active'); alert('‚ö†Ô∏è Could not get recommendations:\n'+err.message+'\n\nStart the API server:\n  uvicorn main:app --reload --port 8000'); }
    else renderResults(d);
  });
}

// ‚ïê‚ïê Render Results ‚ïê‚ïê
function renderResults(d) {
  document.getElementById('harvestDateVal').textContent = d.harvest_date_val;
  document.getElementById('harvestDaysVal').textContent = d.harvest_days_val;
  document.getElementById('spoilageVal').textContent = d.spoilage_val;
  document.getElementById('spoilageDescVal').textContent = d.spoilage_desc_val;
  document.getElementById('harvestRec').textContent = d.harvest_window.recommendation;
  document.getElementById('harvestRecSub').textContent = d.harvest_window.recommendation_sub;
  document.getElementById('harvestFactors').innerHTML = (d.harvest_window.factors||[]).map(f => `<div class="fi ${f.type}"><div class="fdot"></div><span>${f.text}</span></div>`).join('');
  document.getElementById('mktBody').innerHTML = d.markets.map(m => `
    <tr ${m.is_best?'class="br"':''}><td><strong>${m.name}</strong>${m.is_best?'<span class="best-badge">Best</span>':''}</td>
    <td style="font-weight:700;color:var(--leaf)">${m.price_display}</td><td>${m.transport_display}</td>
    <td><div class="pbar-wrap"><div class="pbar" style="width:${m.bar_width}px;background:${m.profit_color}"></div>
    <span style="font-weight:700;font-size:11px;color:${m.profit_color}">${m.net_profit_display}</span></div></td></tr>`).join('');
  const bm = d.markets[0];
  document.getElementById('trendAlert').innerHTML = `<div style="padding:10px 12px;background:rgba(26,111,168,0.05);border-radius:10px;border:1px solid rgba(26,111,168,0.14);display:flex;align-items:flex-start;gap:8px"><svg width="14" height="14" style="flex-shrink:0;margin-top:1px" viewBox="0 0 24 24" fill="none" stroke="#1A6FA8" stroke-width="2"><polyline points="22 12 18 12 15 21 9 3 6 12 2 12"/></svg><div><div style="font-size:11px;font-weight:700;color:#1A6FA8;margin-bottom:2px">Price Trend</div><div style="font-size:12px;color:var(--muted)">${bm.name}: ${bm.trend}. Sell within 2‚Äì3 days of harvest.</div></div></div>`;
  const sr = d.spoilage_risk;
  const rc = sr.risk_color.replace('var(--warn)','#D4780A').replace('var(--rust)','#C0392B').replace('var(--success)','#1E8449');
  const circ = 226.2; const offset = circ*(1-sr.risk_pct/100);
  document.getElementById('gaugeArc').setAttribute('stroke',rc);
  document.getElementById('gaugeArc').setAttribute('stroke-dashoffset',offset.toFixed(1));
  document.getElementById('gaugeN').textContent = sr.risk_pct+'%'; document.getElementById('gaugeN').style.color = rc;
  document.getElementById('gaugeL').textContent = sr.risk_level+' Risk'; document.getElementById('gaugeL').style.color = rc;
  document.getElementById('gaugeD').textContent = sr.description;
  document.getElementById('spoilageFacts').innerHTML = (sr.factors||[]).map(f => `<div class="fi ${f.type}"><div class="fdot"></div><span>${f.text}</span></div>`).join('');
  document.getElementById('actList').innerHTML = (d.preservation_actions||[]).map(a => {
    const ds = Array.from({length:5},(_,i)=>`<div class="dot${i<a.effectiveness?' f':''}"></div>`).join('');
    return `<div class="act-item"><div class="act-rank ${a.rank_class}">${a.rank}</div><div class="act-body"><div class="act-name">${a.title}</div><div class="act-detail">${a.detail}</div></div><div style="text-align:right"><div class="act-cost">${a.cost_display}</div><div class="dots" style="justify-content:flex-end;margin-top:3px">${ds}</div></div></div>`;
  }).join('');
  document.getElementById('reasonGrid').innerHTML = (d.reasoning_steps||[]).map(s => `<div class="reason-step"><div class="rs-num">${s.step_num}</div><div class="rs-title">${s.icon} ${s.title}</div><div class="rs-desc">${s.desc}</div></div>`).join('');
  document.getElementById('confTitle').textContent = `Prediction Confidence: ${d.confidence.score}%`;
  document.getElementById('confBasis').textContent = d.confidence.basis;
  document.getElementById('confBar').style.width = d.confidence.score+'%';
  document.getElementById('confPct').textContent = d.confidence.label;
  const res = document.getElementById('resultsSection');
  res.classList.add('visible');
  setTimeout(() => res.scrollIntoView({behavior:'smooth',block:'start'}), 100);
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// ANNADATA AI ‚Äî Claude API (Streaming)
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
let chatHistory = [];
let isStreaming = false;

const SYSTEM_PROMPT = `You are Annadata AI, a warm and knowledgeable farming assistant for Indian farmers on the KisanMitra Smart Farming Platform.

Specialties:
- Crop guidance: tomato, wheat, rice, onion, potato, soybean, cotton, maize
- Mandi prices & market intelligence (AGMARKNET data)
- Harvest timing & post-harvest management
- Spoilage prevention & storage best practices
- Government schemes: PM-KISAN, PMFBY, KCC, SMAM, Soil Health Card, e-NAM, PKVY
- Weather impact on farming decisions
- Soil health & fertilizer recommendations

Guidelines:
- Be conversational, warm, and use simple language
- Give specific actionable advice with numbers (prices, dates, quantities)
- Respond in the same language as the user ‚Äî Hindi for Hindi questions
- Keep responses focused and practical
- Use ‚Çπ for rupee amounts
- When relevant, mention the KisanMitra Crop Analyzer for personalized results
- You serve farmers across Maharashtra, Punjab, UP, MP, Rajasthan, Karnataka, Gujarat, Haryana, Andhra Pradesh, and Telangana`;

function getFormCtx() {
  const crop = document.getElementById('cropType')?.value;
  const state = document.getElementById('state')?.value;
  const district = document.getElementById('district')?.value;
  if (crop && state) return `\n\n[User's KisanMitra selection: Crop=${crop}, State=${state}, District=${district||'not set'}]`;
  return '';
}

function toggleChat() { document.getElementById('chatWin').classList.toggle('open'); }

function addMsg(role, text) {
  const c = document.getElementById('chatMsgs');
  const t = new Date().toLocaleTimeString('en-IN',{hour:'2-digit',minute:'2-digit'});
  const div = document.createElement('div');
  div.className = 'cmsg '+role;
  div.innerHTML = `<div class="cbubble">${text.replace(/\*\*(.*?)\*\*/g,'<strong>$1</strong>').replace(/\n/g,'<br>')}</div><div class="ctime">${t}</div>`;
  c.appendChild(div); c.scrollTop = c.scrollHeight;
  return div;
}

async function sendChat() {
  if (isStreaming) return;
  const inp = document.getElementById('chatInp');
  const msg = inp.value.trim();
  if (!msg) return;
  inp.value = ''; inp.style.height = 'auto';
  document.getElementById('quickBtns').style.display = 'none';
  addMsg('user', msg);
  chatHistory.push({role:'user', content: msg + getFormCtx()});
  isStreaming = true;
  document.getElementById('chatSendBtn').disabled = true;
  const tr = document.getElementById('typingRow');
  tr.classList.add('vis');
  document.getElementById('chatMsgs').scrollTop = 9999;

  try {
    const response = await fetch('https://api.anthropic.com/v1/messages', {
      method:'POST',
      headers:{'Content-Type':'application/json'},
      body: JSON.stringify({
        model: 'claude-sonnet-4-20250514',
        max_tokens: 1000,
        system: SYSTEM_PROMPT,
        stream: true,
        messages: chatHistory.slice(-12),
      })
    });
    tr.classList.remove('vis');
    if (!response.ok) throw new Error('API error '+response.status);

    // Create streaming bubble
    const c = document.getElementById('chatMsgs');
    const t = new Date().toLocaleTimeString('en-IN',{hour:'2-digit',minute:'2-digit'});
    const msgDiv = document.createElement('div');
    msgDiv.className = 'cmsg bot';
    msgDiv.innerHTML = `<div class="cbubble stream-cursor" id="streamBubble"></div><div class="ctime">${t}</div>`;
    c.appendChild(msgDiv);

    let fullText = '';
    const reader = response.body.getReader();
    const decoder = new TextDecoder();

    while (true) {
      const {done, value} = await reader.read();
      if (done) break;
      const lines = decoder.decode(value).split('\n');
      for (const line of lines) {
        if (!line.startsWith('data: ')) continue;
        const data = line.slice(6);
        if (data === '[DONE]') continue;
        try {
          const p = JSON.parse(data);
          if (p.type === 'content_block_delta' && p.delta?.text) {
            fullText += p.delta.text;
            document.getElementById('streamBubble').innerHTML = fullText
              .replace(/\*\*(.*?)\*\*/g,'<strong>$1</strong>')
              .replace(/\n/g,'<br>');
            c.scrollTop = c.scrollHeight;
          }
        } catch {}
      }
    }
    document.getElementById('streamBubble')?.classList.remove('stream-cursor');
    chatHistory.push({role:'assistant', content: fullText});

  } catch(err) {
    tr.classList.remove('vis');
    addMsg('bot', getFallback(msg));
    chatHistory.push({role:'assistant', content: getFallback(msg)});
  } finally {
    isStreaming = false;
    document.getElementById('chatSendBtn').disabled = false;
  }
}

function quickAsk(q) { document.getElementById('chatInp').value = q; sendChat(); }

// Fallback KB (if API unavailable)
let fbIdx = 0;
function getFallback(m) {
  const l = m.toLowerCase();
  if (l.includes('tomato')) return 'üçÖ **Tomato Info:**\n\nTomato prices: ‚Çπ20‚Äì35/kg at major mandis. Nashik APMC is Asia\'s largest tomato market.\nHarvest when 70‚Äì80% fruits turn red. Early morning harvesting (5‚Äì8 AM) reduces heat damage.';
  if (l.includes('wheat')) return 'üåæ **Wheat Info:**\n\nWheat MSP 2024‚Äì25: ‚Çπ2,275/quintal. Market rates: ‚Çπ2,100‚Äì2,400/quintal.\nHarvest when grain moisture drops below 14%. Golden-yellow colour = maturity indicator.';
  if (l.includes('pm kisan')||l.includes('pmkisan')) return 'üèõÔ∏è **PM-KISAN:**\n\nProvides ‚Çπ6,000/year in 3 installments of ‚Çπ2,000.\n‚úÖ All farmer families with cultivable land\n‚ùå Excluded: Govt employees, income tax payers\nüìç Apply: pmkisan.gov.in';
  if (l.includes('spoilage')||l.includes('storage')) return 'üì¶ **Reduce Spoilage:**\n\n1. Harvest early morning (5‚Äì8 AM) ‚Äî FREE\n2. Use ventilated crates, not gunny bags ‚Äî ‚Çπ800‚Äì1,200\n3. Pre-cool before long transit ‚Äî ‚Çπ2,500‚Äì3,000\n\nThis can cut spoilage from 35% ‚Üí ~12%.';
  const fallbacks = ['Use the KisanMitra Crop Analyzer above for personalized recommendations with real weather + mandi price data! üåæ','Call Kisan Call Centre at **1800-180-1551** (toll-free, 22 languages) for agricultural advice. üìû','Check **e-NAM** (enam.gov.in) for live mandi prices across India. üåæ'];
  return fallbacks[fbIdx++ % fallbacks.length];
}
</script>
</body>
</html>
